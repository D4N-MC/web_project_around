!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p:""};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}e.d({},{l:function(){return le},E:function(){return de}});var r=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"render",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"addNewItem",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){for(;this._container.firstChild;)this._container.removeChild(this._container.firstChild)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=function(){function e(t){s(this,e),this._popup=document.querySelector(t),this._content=this._popup.querySelector(".contentPopup"),this.setEventListeners()}return f(e,[{key:"open",value:function(){this._popup.classList.add("popup_opened")}},{key:"close",value:function(){this._popup.classList.remove("popup_opened")}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){t.target.classList.contains("closeButton")&&e.close()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.close()})),this._popup.addEventListener("mousedown",(function(t){e._content.contains(t.target)||e.close()}))}}]),e}(),m=function(e){u(n,e);var t=l(n);function n(e){var r;return s(this,n),(r=t.call(this,e))._popupImage=r._popup.querySelector(".image-popup__image"),r._popupCaption=r._popup.querySelector(".image-popup__name"),r}return f(n,[{key:"open",value:function(e,t){i(c(n.prototype),"open",this).call(this),this._popupImage.src=e,this._popupImage.alt=t,this._popupCaption.textContent=t}}]),n}(p),y=function(e){u(n,e);var t=l(n);function n(e,r){var o;return s(this,n),(o=t.call(this,e))._submitCallback=r,o._inputList=o._popup.querySelectorAll(".input"),o}return f(n,[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.id]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;i(c(n.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(t){t.preventDefault(),e._submitCallback(e._getInputValues()),e.close()}))}},{key:"close",value:function(){i(c(n.prototype),"close",this).call(this)}}]),n}(p);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===h(o)?o:String(o)),r)}var o}var v=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers}).then((function(t){return e._checkResponse(t)})).catch((function(e){throw console.log(e),e}))}},{key:"updateAvatar",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this.headers.authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return t._checkResponse(e)})).catch((function(e){throw console.log(e),e}))}},{key:"addCard",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return n._checkResponse(e)})).catch((function(e){throw console.log(e),e}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this.headers.authorization}}).then((function(e){if(e.ok)return e.json();throw new Error("Error: ".concat(e.status))})).catch((function(e){throw console.error("Error en deleteCard:",e),e}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers}).then((function(t){return e._checkResponse(t)})).catch((function(e){console.log(e)}))}},{key:"addLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this.headers}).then((function(e){return t._checkResponse(e)})).catch((function(e){throw console.log(e),e}))}},{key:"removeLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return t._checkResponse(e)})).catch((function(e){throw console.log(e),e}))}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({baseUrl:"https://around.nomoreparties.co/v1/web_es_08",headers:{authorization:"cebd400e-cb13-478f-a576-1969697c9570","Content-Type":"application/json"}});function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}var g=function(){function e(t){var n=t.nameSelector,r=t.aboutSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._aboutElement=document.querySelector(r),this._userAvatar=document.querySelector(".user-photo"),this.userId}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this.getUserInfoApi(),{name:this._nameElement.textContent,about:this._aboutElement.textContent}}},{key:"getUserInfoApi",value:function(){var e=this;return v.getUserInfo().then((function(t){return e._nameElement.textContent=t.name,e._aboutElement.textContent=t.about,e._userAvatar.src=t.avatar,e.userId=t._id,k.name=t.name,k.about=t.about,k.avatar=t.avatar,k._id=t._id,t})).catch((function(e){throw console.log(e),e}))}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;this._nameElement.textContent=t,this._aboutElement.textContent=n}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),k={name:"",about:"",avatar:"",_id:""};function E(e,t){return e._id===t._id}var w=e.p+"abe4ddd19a9f23445254.jpg";function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===I(o)?o:String(o)),r)}var o}e.p,e.p,e.p;var L=[{image:w,text:"Zion Parque Nacional"}],j=(document.querySelector(".images"),document.querySelector(".image-popup"),document.querySelector(".image-popup__image"),document.querySelector(".image-popup__close"),document.querySelector(".image-popup__name"),new m(".image-popup")),C=new p(".eliminatePopup"),q=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardName=t,this._image=n,this._altText=o,this._deletePopup=document.querySelector(".eliminatePopup"),this._deleteButton=this._deletePopup.querySelector(".beforeEliminate-button"),this._cardInfo=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){var e=document.getElementById("post-template").content.querySelector(".post").cloneNode(!0),t=e.querySelector(".post__text"),n=e.querySelector(".post__image");return t.textContent=this._cardName,n.src=this._image,n.alt=this._altText,e}},{key:"_handleCardClick",value:function(){j.open(this._image,this._cardName)}},{key:"_handleLike",value:function(){var e=this._element.querySelector(".post__like"),t=this._element.querySelector(".post__like-hover"),n=this._element.querySelector(".post__like-count"),r=(parseInt(n.textContent),e.classList.contains("post__liked")),o=this._cardInfo.id;r?v.removeLike(o).then((function(r){n.textContent=r.likes.length.toString(),e.classList.remove("post__liked"),t.classList.remove("post__liked")})).catch((function(e){console.error('Error al quitar "me gusta" de la tarjeta:',e)})):v.addLike(o).then((function(r){n.textContent=r.likes.length.toString(),e.classList.add("post__liked"),t.classList.add("post__liked")})).catch((function(e){console.error('Error al dar "me gusta" a la tarjeta:',e)}))}},{key:"_handleDelete",value:function(){var e=this,t=this._deleteButton;C.open(),t.addEventListener("click",(function n(){t.disabled=!0,t.textContent="Eliminando...";var r=e._cardInfo,o=r.id;E(k,r.owner),t.removeEventListener("click",n),v.deleteCard(o).then((function(t){if(!t.message||"This post has been deleted"!==t.message)throw new Error("Error al eliminar la tarjeta: Respuesta inesperada del servidor");console.log("Tarjeta eliminada:",t),e._element&&e._element.remove()})).catch((function(e){console.error("Error al eliminar la tarjeta:",e)})).finally((function(){C.close(),t.textContent="Sí",t.disabled=!1}))}))}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".post__image").addEventListener("click",(function(){e._handleCardClick()})),this._element.querySelector(".post__like").addEventListener("click",(function(){e._handleLike()})),this._element.querySelector(".post__delete").addEventListener("click",(function(){e._handleDelete()}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}var T=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputContainer=document.querySelector(t),this._input=this._inputContainer.querySelector(n),this.enableValidation()}var t,n;return t=e,(n=[{key:"showInputError",value:function(e){var t=this._inputContainer.querySelector(".error-message");this._input===document.getElementById("link")&&(e="Ingrese una URL valida"),t.textContent=e,this._input.setCustomValidity(""),this._input.classList.add("error")}},{key:"hideInputError",value:function(){this._inputContainer.querySelector(".error-message").textContent="",this._input.classList.remove("error")}},{key:"checkInputValidity",value:function(){this._input.validity.valid?this.hideInputError():this.showInputError(this._input.validationMessage)}},{key:"enableValidation",value:function(){var e=this;this._input.addEventListener("input",(function(){e.checkInputValidity()}))}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x=new T(".block-edit__nombre","#nombre"),A=new T(".block-edit__about","#about"),R=new T(".block-add__titulo","#titulo"),U=new T(".block-add__link","#link"),V=new T(".profile-input","#profileInput");function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}function J(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var M=document.querySelector(".user__top-normal"),Z=document.querySelector(".user-add"),Q=(document.querySelector(".user__top-name"),document.querySelector(".user__bottom"),document.querySelector(".formulario-edit")),W=(document.querySelector(".block-edit__text"),document.querySelector("#nombre"),document.querySelector("#about"),document.querySelector("#guardar-buttonEdit"),document.querySelector(".block-edit"),document.querySelector(".formulario-add")),X=(document.querySelector(".block-add__text"),document.querySelector("#titulo")),Y=document.querySelector("#link"),$=(document.querySelector("#guardar-buttonAdd"),document.querySelector(".block-add"),J((function e(t){H(this,e),this._formElement=t}))),ee=new p(".profilePopup"),te=function(e){N(n,e);var t=F(n);function n(e){var r;return H(this,n),(r=t.call(this,e))._urlInput=e.querySelector("#profileInput"),r._submitButton=e.querySelector(".profilePopup-block__button"),r._userPhoto=document.querySelector(".user-photo"),r._setEventListeners(),r}return J(n,[{key:"submitChangedPhoto",value:function(){var e=this,t=this._urlInput.value;this._submitButton.textContent="Guardando...",this._submitButton.disabled=!0,v.updateAvatar(t).then((function(n){e.updatePhoto(t)})).catch((function(e){console.error("Error al actualizar la foto de perfil:",e)})).finally((function(){e._submitButton.textContent="Guardar",e._submitButton.disabled=!1,ee.close()}))}},{key:"updatePhoto",value:function(e){this._userPhoto.src=e}},{key:"setInitialValue",value:function(){this._urlInput.value=""}},{key:"_setEventListeners",value:function(){var e=this;this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e.submitChangedPhoto()})),this._formElement.addEventListener("keydown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._handleEnterKeyPress(),V.checkInputValidity())})),this._urlInput.addEventListener("input",(function(){e._urlInput.validity.valid?(e.enableSubmit(),V.hideInputError()):e.disableSubmit()}))}},{key:"_handleEnterKeyPress",value:function(){this._urlInput.validity.valid&&this.submitChangedPhoto()}},{key:"enableSubmit",value:function(){document.getElementById("submitAvatar").classList.add("profilePopup-block__button"),document.getElementById("submitAvatar").classList.remove("profilePopup-block__buttonDisabled")}},{key:"disableSubmit",value:function(){document.getElementById("submitAvatar").classList.add("profilePopup-block__buttonDisabled"),document.getElementById("submitAvatar").classList.remove("profilePopup-block__button")}}]),n}($),ne=new y(".formulario-edit",(function(e){console.log("Valores del Usuario:",e)})),re=new g({nameSelector:".user__top-name",aboutSelector:".user__bottom"}),oe=function(e){N(n,e);var t=F(n);function n(e){var r;return H(this,n),(r=t.call(this,e))._nombreInput=e.querySelector("#nombre"),r._aboutInput=e.querySelector("#about"),r._submitButton=e.querySelector("#guardar-buttonEdit"),r.setInitialValues(),r._setEventListeners(),r}return J(n,[{key:"setInitialValues",value:function(){var e=re.getUserInfo(),t=e.name,n=e.about;this._nombreInput.value=t,this._aboutInput.value=n}},{key:"_setEventListeners",value:function(){var e=this;this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm()})),this._formElement.addEventListener("keydown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._handleEnterKeyPress())})),this._nombreInput.addEventListener("input",(function(){e._handleInputValidation()})),this._aboutInput.addEventListener("input",(function(){e._handleInputValidation()}))}},{key:"_handleInputValidation",value:function(){this._nombreInput.validity.valid&&this._aboutInput.validity.valid?this._enableSubmit():this._disableSubmit()}},{key:"_handleEnterKeyPress",value:function(){this._nombreInput.validity.valid&&this._aboutInput.validity.valid&&this._handleSubmitForm()}},{key:"_disableSubmit",value:function(){this._submitButton.classList.remove("guardar-edit"),this._submitButton.classList.add("guardar-disabledEdit")}},{key:"_enableSubmit",value:function(){this._submitButton.textContent="Guardar",this._submitButton.disabled=!1,this._submitButton.classList.add("guardar-edit"),this._submitButton.classList.remove("guardar-disabledEdit")}},{key:"_handleSubmitForm",value:function(){var e=this,t=this._nombreInput.value,n=this._aboutInput.value;this._submitButton.textContent="Guardando...",this._submitButton.disabled=!0,fetch("https://around.nomoreparties.co/v1/web_es_08/users/me",{method:"PATCH",headers:{authorization:"cebd400e-cb13-478f-a576-1969697c9570","Content-Type":"application/json"},body:JSON.stringify({name:t,about:n})}).then((function(e){return e.json()})).then((function(e){re.setUserInfo({name:e.name,about:e.about}),ne.close()})).catch((function(e){console.error("Error al actualizar el perfil:",e)})).finally((function(){e._enableSubmit()}))}}]),n}($),ie=new y(".formulario-add",(function(e){})),ue=function(e){N(n,e);var t=F(n);function n(e){var r;return H(this,n),(r=t.call(this,e))._titleInput=e.querySelector("#titulo"),r._linkInput=e.querySelector("#link"),r._submitButton=e.querySelector("#guardar-buttonAdd"),r._setEventListenersAdd(),r}return J(n,[{key:"_setEventListenersAdd",value:function(){var e=this;this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm()})),this._formElement.addEventListener("keydown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._handleEnterKeyPress())})),X.addEventListener("input",(function(){X.validity.valid&&Y.validity.valid?e._enableSubmit():e._disableSubmit()})),Y.addEventListener("input",(function(){X.validity.valid&&Y.validity.valid?e._enableSubmit():e._disableSubmit()}))}},{key:"_handleEnterKeyPress",value:function(){X.validity.valid&&Y.validity.valid&&this._handleSubmitForm()}},{key:"_disableSubmit",value:function(){document.getElementById("guardar-buttonAdd").classList.remove("guardar-add"),document.getElementById("guardar-buttonAdd").classList.add("guardar-disabledAdd")}},{key:"_enableSubmit",value:function(){document.getElementById("guardar-buttonAdd").classList.add("guardar-add"),document.getElementById("guardar-buttonAdd").classList.remove("guardar-disabledAdd"),document.getElementById("guardar-buttonAdd").disabled=!1,document.getElementById("guardar-buttonAdd").textContent="Guardar"}},{key:"_emptyInputs",value:function(){this._titleInput.value="",this._linkInput.value=""}},{key:"_handleSubmitForm",value:function(){var e,t,n=this;document.getElementById("guardar-buttonAdd").disabled=!0,document.getElementById("guardar-buttonAdd").textContent="Guardando...",e=this._titleInput.value,t=this._linkInput.value,v.addCard(e,t).then((function(e){var t={name:e.name,link:e.link,owner:e.owner,id:e._id,likes:e.likes},n=new q(e.name,e.link,t);n.generateCard(),le.addNewItem(n._element),E(k,t.owner)})).catch((function(e){console.error("Error al añadir la nueva tarjeta:",e)})),setTimeout((function(){n._enableSubmit(),ie.close()}),400)}}]),n}($),ae=new te(document.querySelector(".profilePopup"));document.querySelector(".user-photoBack").addEventListener("click",(function(){ee.open(),ae.setInitialValue(),V.hideInputError(),ae.disableSubmit()}));var le=new r({items:L,renderer:function(e){var t=new q(e.text,e.image);t.generateCard(),le.addItem(t._element)}},".images");le.render();var ce=new oe(Q);M.addEventListener("click",(function(){ne.open(),ce.setInitialValues(),ce._enableSubmit(),x.checkInputValidity(),A.checkInputValidity(),x.hideInputError(),A.hideInputError()}));var se=new ue(W);function de(e){}Z.addEventListener("click",(function(){ie.open(),se._emptyInputs(),se._disableSubmit(),R.hideInputError(),U.hideInputError()})),le.clear(),v.getUserInfo().then((function(e){return k.name=e.name,k.about=e.about,k.avatar=e.avatar,k._id=e._id,v.getInitialCards()})).then((function(e){e.forEach((function(e){var t={name:e.name,link:e.link,owner:e.owner,id:e._id,likes:e.likes},n=new q(e.name,e.link,t);n.generateCard(),le.addItem(n._element);var r=n._element.querySelector(".post__delete"),o=n._element.querySelector(".post__delete-hover"),i=E(k,t.owner);r.style.display=i?"block":"none",o.style.display=i?"block":"none",n._element.querySelector(".post__like-count").textContent=t.likes.length.toString();var u=n._element.querySelector(".post__like");t.likes.some((function(e){return e._id===k._id}))&&u.classList.add("post__liked")}))})).catch((function(e){console.error("Error al obtener las tarjetas:",e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQUtBLEVBQUt6SixNQUFRQyxFQUFTRCxHQUFHLEtBQ3pEOEIsRUFBVy9HLFVBQVVDLElBQUksY0FFN0IsR0FDRixJQUNDbUQsT0FBTSxTQUFDZSxHQUNOYixRQUFRYSxNQUFNLGlDQUFrQ0EsRUFDbEQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL1RyaXBsZVRlbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9UcmlwbGVUZW4vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL1RyaXBsZVRlbi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1RyaXBsZVRlbi93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9UcmlwbGVUZW4vLi9zcmMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL1RyaXBsZVRlbi8uL3NyYy9zY3JpcHRzL1BvcHVwLmpzIiwid2VicGFjazovL1RyaXBsZVRlbi8uL3NyYy9zY3JpcHRzL2FwaS5qcyIsIndlYnBhY2s6Ly9UcmlwbGVUZW4vLi9zcmMvc2NyaXB0cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9UcmlwbGVUZW4vLi9zcmMvc2NyaXB0cy9DYXJkLmpzIiwid2VicGFjazovL1RyaXBsZVRlbi8uL3NyYy9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vVHJpcGxlVGVuLy4vc3JjL3NjcmlwdHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vVHJpcGxlVGVuLy4vc3JjL3NjcmlwdHMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuICBhZGROZXdJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuICBjbGVhcigpIHtcclxuICAgIHdoaWxlICh0aGlzLl9jb250YWluZXIuZmlyc3RDaGlsZCkge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2NvbnRlbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRQb3B1cFwiKTtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2xvc2VCdXR0b25cIikpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmICghdGhpcy5fY29udGVudC5jb250YWlucyhldmVudC50YXJnZXQpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2UtcG9wdXBfX25hbWVcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKGltYWdlU3JjLCBpbWFnZUNhcHRpb24pIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gaW1hZ2VTcmM7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGltYWdlQ2FwdGlvbjtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi50ZXh0Q29udGVudCA9IGltYWdlQ2FwdGlvbjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdENhbGxiYWNrKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrID0gc3VibWl0Q2FsbGJhY2s7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLmlucHV0XCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5pZF0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0Q2FsbGJhY2sodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxufSIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQXZhdGFyKGF2YXRhclVybCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuaGVhZGVycy5hdXRob3JpemF0aW9uLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogYXZhdGFyVXJsIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQobmFtZSwgbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLmhlYWRlcnMuYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZW4gZGVsZXRlQ2FyZDpcIiwgZXJyb3IpOyBcclxuICAgICAgICB0aHJvdyBlcnJvcjsgXHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIHRocm93IGVycjtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIHRocm93IGVycjtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wOFwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiY2ViZDQwMGUtY2IxMy00NzhmLWE1NzYtMTk2OTY5N2M5NTcwXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuIiwiaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4vYXBpLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYWJvdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXItcGhvdG9cIik7XHJcbiAgICB0aGlzLnVzZXJJZDtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgdGhpcy5nZXRVc2VySW5mb0FwaSgpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuICBnZXRVc2VySW5mb0FwaSgpIHtcclxuICAgIHJldHVybiBhcGlcclxuICAgICAgLmdldFVzZXJJbmZvKClcclxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gcmVzdWx0Lm5hbWU7XHJcbiAgICAgICAgdGhpcy5fYWJvdXRFbGVtZW50LnRleHRDb250ZW50ID0gcmVzdWx0LmFib3V0O1xyXG4gICAgICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gcmVzdWx0LmF2YXRhcjtcclxuICAgICAgICB0aGlzLnVzZXJJZCA9IHJlc3VsdC5faWQ7XHJcblxyXG4gICAgICAgIHVzZXJEYXRhLm5hbWUgPSByZXN1bHQubmFtZTtcclxuICAgICAgICB1c2VyRGF0YS5hYm91dCA9IHJlc3VsdC5hYm91dDtcclxuICAgICAgICB1c2VyRGF0YS5hdmF0YXIgPSByZXN1bHQuYXZhdGFyO1xyXG4gICAgICAgIHVzZXJEYXRhLl9pZCA9IHJlc3VsdC5faWQ7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1c2VyRGF0YSA9IHtcclxuICBuYW1lOiBcIlwiLFxyXG4gIGFib3V0OiBcIlwiLFxyXG4gIGF2YXRhcjogXCJcIixcclxuICBfaWQ6IFwiXCIsXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNPd25lcih1c2VyRGF0YSwgY2FyZE93bmVyKSB7XHJcbiAgcmV0dXJuIHVzZXJEYXRhLl9pZCA9PT0gY2FyZE93bmVyLl9pZDtcclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCwgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5pbXBvcnQgeyBjYXJkU2VjdGlvbiwgaWRlbnRpZnlDYXJkIH0gZnJvbSBcIi4vaW5kZXguanNcIjtcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4vYXBpLmpzXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvLCBpc093bmVyLCB1c2VyRGF0YSB9IGZyb20gXCIuL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB6aW9uSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9pbWFnZXMtcG9zdC96aW9uLXV0YWguanBnXCI7XHJcbmltcG9ydCB5ZWxsb3dzdG9uZUltYWdlIGZyb20gXCIuLi9pbWFnZXMvaW1hZ2VzLXBvc3QveWVsbG93c3RvbmUuanBnXCI7XHJcbmltcG9ydCBncmFuQ2Fub25JbWFnZSBmcm9tIFwiLi4vaW1hZ2VzL2ltYWdlcy1wb3N0L2dyYW4tY2HDsW9uLmpwZ1wiO1xyXG5pbXBvcnQgbGFnb0xvdWlzZUltYWdlIGZyb20gXCIuLi9pbWFnZXMvaW1hZ2VzLXBvc3QvbGFnby1sb3Vpc2UuanBnXCI7XHJcblxyXG5leHBvcnQgY29uc3QgaXRlbXMgPSBbXHJcbiAge1xyXG4gICAgaW1hZ2U6IHppb25JbWFnZSxcclxuICAgIHRleHQ6IFwiWmlvbiBQYXJxdWUgTmFjaW9uYWxcIixcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZXNcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXBvcHVwXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2UtcG9wdXBfX2ltYWdlXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2UtcG9wdXBfX2Nsb3NlXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZS1wb3B1cF9fbmFtZVwiKTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLmltYWdlLXBvcHVwXCIpO1xyXG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXAoXCIuZWxpbWluYXRlUG9wdXBcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoY2FyZE5hbWUsIGltYWdlLCBjYXJkSW5mbywgYWx0VGV4dCA9IGNhcmROYW1lKSB7XHJcbiAgICB0aGlzLl9jYXJkTmFtZSA9IGNhcmROYW1lO1xyXG4gICAgdGhpcy5faW1hZ2UgPSBpbWFnZTtcclxuICAgIHRoaXMuX2FsdFRleHQgPSBhbHRUZXh0O1xyXG4gICAgdGhpcy5fZGVsZXRlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsaW1pbmF0ZVBvcHVwXCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZGVsZXRlUG9wdXAucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuYmVmb3JlRWxpbWluYXRlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fY2FyZEluZm8gPSBjYXJkSW5mbztcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0LXRlbXBsYXRlXCIpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIGNvbnN0IGNhcmROYW1lRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fdGV4dFwiKTtcclxuICAgIGNvbnN0IGNhcmRJbWFnZUVsZW1lbnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RfX2ltYWdlXCIpO1xyXG5cclxuICAgIGNhcmROYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2NhcmROYW1lO1xyXG4gICAgY2FyZEltYWdlRWxlbWVudC5zcmMgPSB0aGlzLl9pbWFnZTtcclxuICAgIGNhcmRJbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5fYWx0VGV4dDtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDYXJkQ2xpY2soKSB7XHJcbiAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKHRoaXMuX2ltYWdlLCB0aGlzLl9jYXJkTmFtZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZSgpIHtcclxuICAgIGNvbnN0IGxpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fbGlrZVwiKTtcclxuICAgIGNvbnN0IGxpa2VCdXR0b25Ib3ZlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0X19saWtlLWhvdmVyXCIpO1xyXG4gICAgY29uc3QgbGlrZXNDb3VudEVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fbGlrZS1jb3VudFwiKTtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50TGlrZXMgPSBwYXJzZUludChsaWtlc0NvdW50RWxlbWVudC50ZXh0Q29udGVudCk7XHJcbiAgICBjb25zdCBpc0xpa2VkID0gbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3N0X19saWtlZFwiKTtcclxuXHJcbiAgICBjb25zdCBjYXJkSWQgPSB0aGlzLl9jYXJkSW5mby5pZDtcclxuXHJcbiAgICBpZiAoaXNMaWtlZCkge1xyXG4gICAgICBhcGlcclxuICAgICAgICAucmVtb3ZlTGlrZShjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKHVwZGF0ZWRDYXJkRGF0YSkgPT4ge1xyXG4gICAgICAgICAgbGlrZXNDb3VudEVsZW1lbnQudGV4dENvbnRlbnQgPVxyXG4gICAgICAgICAgICB1cGRhdGVkQ2FyZERhdGEubGlrZXMubGVuZ3RoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3N0X19saWtlZFwiKTtcclxuICAgICAgICAgIGxpa2VCdXR0b25Ib3Zlci5jbGFzc0xpc3QucmVtb3ZlKFwicG9zdF9fbGlrZWRcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBxdWl0YXIgXCJtZSBndXN0YVwiIGRlIGxhIHRhcmpldGE6JywgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLmFkZExpa2UoY2FyZElkKVxyXG4gICAgICAgIC50aGVuKCh1cGRhdGVkQ2FyZERhdGEpID0+IHtcclxuICAgICAgICAgIGxpa2VzQ291bnRFbGVtZW50LnRleHRDb250ZW50ID1cclxuICAgICAgICAgICAgdXBkYXRlZENhcmREYXRhLmxpa2VzLmxlbmd0aC50b1N0cmluZygpO1xyXG4gICAgICAgICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicG9zdF9fbGlrZWRcIik7XHJcbiAgICAgICAgICBsaWtlQnV0dG9uSG92ZXIuY2xhc3NMaXN0LmFkZChcInBvc3RfX2xpa2VkXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgZGFyIFwibWUgZ3VzdGFcIiBhIGxhIHRhcmpldGE6JywgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBfaGFuZGxlRGVsZXRlKCkge1xyXG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gdGhpcy5fZGVsZXRlQnV0dG9uO1xyXG5cclxuICAgIHBvcHVwRGVsZXRlQ2FyZC5vcGVuKCk7XHJcblxyXG4gICAgY29uc3QgaGFuZGxlRGVsZXRlRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgIGRlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGRlbGV0ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRWxpbWluYW5kby4uLlwiO1xyXG5cclxuICAgICAgY29uc3QgY3VycmVudENhcmRJbmZvID0gdGhpcy5fY2FyZEluZm87XHJcbiAgICAgIGNvbnN0IGNhcmRJZCA9IGN1cnJlbnRDYXJkSW5mby5pZDtcclxuXHJcbiAgICAgIGlzT3duZXIodXNlckRhdGEsIGN1cnJlbnRDYXJkSW5mby5vd25lcik7XHJcblxyXG4gICAgICBkZWxldGVCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZURlbGV0ZUV2ZW50KTtcclxuXHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC5kZWxldGVDYXJkKGNhcmRJZClcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGRhdGEubWVzc2FnZSAmJiBkYXRhLm1lc3NhZ2UgPT09IFwiVGhpcyBwb3N0IGhhcyBiZWVuIGRlbGV0ZWRcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRhcmpldGEgZWxpbWluYWRhOlwiLCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgIFwiRXJyb3IgYWwgZWxpbWluYXIgbGEgdGFyamV0YTogUmVzcHVlc3RhIGluZXNwZXJhZGEgZGVsIHNlcnZpZG9yXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBlbGltaW5hciBsYSB0YXJqZXRhOlwiLCBlcnJvcik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICBwb3B1cERlbGV0ZUNhcmQuY2xvc2UoKTtcclxuICAgICAgICAgIGRlbGV0ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU8OtXCI7XHJcbiAgICAgICAgICBkZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVEZWxldGVFdmVudCk7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RfX2ltYWdlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fbGlrZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RfX2RlbGV0ZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGUoKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5ld0NhcmQobmFtZSwgbGluaykge1xyXG4gIGFwaVxyXG4gICAgLmFkZENhcmQobmFtZSwgbGluaylcclxuICAgIC50aGVuKChuZXdDYXJkRGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkSW5mbyA9IHtcclxuICAgICAgICBuYW1lOiBuZXdDYXJkRGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IG5ld0NhcmREYXRhLmxpbmssXHJcbiAgICAgICAgb3duZXI6IG5ld0NhcmREYXRhLm93bmVyLFxyXG4gICAgICAgIGlkOiBuZXdDYXJkRGF0YS5faWQsXHJcbiAgICAgICAgbGlrZXM6IG5ld0NhcmREYXRhLmxpa2VzLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWRlbnRpZnlDYXJkKGNhcmRJbmZvKTtcclxuXHJcbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChuZXdDYXJkRGF0YS5uYW1lLCBuZXdDYXJkRGF0YS5saW5rLCBjYXJkSW5mbyk7XHJcbiAgICAgIG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcblxyXG4gICAgICBjYXJkU2VjdGlvbi5hZGROZXdJdGVtKG5ld0NhcmQuX2VsZW1lbnQpO1xyXG5cclxuICAgICAgY29uc3QgaXNDdXJyZW50VXNlck93bmVyID0gaXNPd25lcih1c2VyRGF0YSwgY2FyZEluZm8ub3duZXIpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGHDsWFkaXIgbGEgbnVldmEgdGFyamV0YTpcIiwgZXJyb3IpO1xyXG4gICAgfSk7XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGlucHV0Q29udGFpbmVyU2VsZWN0b3IsIGlucHV0U2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2lucHV0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnB1dENvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2lucHV0ID0gdGhpcy5faW5wdXRDb250YWluZXIucXVlcnlTZWxlY3RvcihpbnB1dFNlbGVjdG9yKTtcclxuICAgIHRoaXMuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgc2hvd0lucHV0RXJyb3IobWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5faW5wdXRDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tZXNzYWdlXCIpO1xyXG4gICAgaWYgKHRoaXMuX2lucHV0ID09PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpbmtcIikpIHtcclxuICAgICAgbWVzc2FnZSA9IFwiSW5ncmVzZSB1bmEgVVJMIHZhbGlkYVwiO1xyXG4gICAgfVxyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuICAgIHRoaXMuX2lucHV0LnNldEN1c3RvbVZhbGlkaXR5KFwiXCIpO1xyXG4gICAgdGhpcy5faW5wdXQuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG4gIH1cclxuXHJcbiAgaGlkZUlucHV0RXJyb3IoKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9pbnB1dENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLW1lc3NhZ2VcIik7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgdGhpcy5faW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tJbnB1dFZhbGlkaXR5KCkge1xyXG4gICAgaWYgKHRoaXMuX2lucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuaGlkZUlucHV0RXJyb3IoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2hvd0lucHV0RXJyb3IodGhpcy5faW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2hlY2tJbnB1dFZhbGlkaXR5KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBub21icmVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgXCIuYmxvY2stZWRpdF9fbm9tYnJlXCIsXHJcbiAgXCIjbm9tYnJlXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGFib3V0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIFwiLmJsb2NrLWVkaXRfX2Fib3V0XCIsXHJcbiAgXCIjYWJvdXRcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgdGl0dWxvRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIFwiLmJsb2NrLWFkZF9fdGl0dWxvXCIsXHJcbiAgXCIjdGl0dWxvXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGxpbmtGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXCIuYmxvY2stYWRkX19saW5rXCIsIFwiI2xpbmtcIik7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXCIucHJvZmlsZS1pbnB1dFwiLCBcIiNwcm9maWxlSW5wdXRcIik7XHJcbiIsImltcG9ydCBcIi4uL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyBDYXJkLCBhZGROZXdDYXJkIH0gZnJvbSBcIi4vQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cCwgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4vVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgY2FyZFNlY3Rpb24gfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi9hcGkuanNcIjtcclxuaW1wb3J0IHsgYXZhdGFyRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuLy9TZWNjaW9uIGRlbCBwZXJmaWwgZGVsIHVzdWFyaW9cclxuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXJfX3RvcC1ub3JtYWxcIik7XHJcbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXItYWRkXCIpO1xyXG5leHBvcnQgY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXJfX3RvcC1uYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgdXNlckFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyX19ib3R0b21cIik7XHJcbi8vU2VjY2lvbiBkZWwgZm9ybXVsYXJpbyBlZGl0XHJcbmV4cG9ydCBjb25zdCBlZGl0Rm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm11bGFyaW8tZWRpdFwiKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJsb2NrLWVkaXRfX3RleHRcIik7XHJcbmV4cG9ydCBjb25zdCBlZGl0Tm9tYnJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNub21icmVcIik7XHJcbmV4cG9ydCBjb25zdCBlZGl0QWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0XCIpO1xyXG5leHBvcnQgY29uc3QgZWRpdFNhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2d1YXJkYXItYnV0dG9uRWRpdFwiKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmxvY2stZWRpdFwiKTtcclxuLy9TZWNjaW9uIGRlbCBmb3JtdWxhcmlvIGFkZFxyXG5leHBvcnQgY29uc3QgYWRkRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm11bGFyaW8tYWRkXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ibG9jay1hZGRfX3RleHRcIik7XHJcbmV4cG9ydCBjb25zdCBhZGRUaXR1bG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpdHVsb1wiKTtcclxuZXhwb3J0IGNvbnN0IGFkZExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xpbmtcIik7XHJcbmV4cG9ydCBjb25zdCBhZGRTYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNndWFyZGFyLWJ1dHRvbkFkZFwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ibG9jay1hZGRcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9ybSB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY2hhbmdlUGhvdG9Qb3B1cCA9IG5ldyBQb3B1cChcIi5wcm9maWxlUG9wdXBcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9ybUNoYW5nZVBob3RvIGV4dGVuZHMgRm9ybSB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQpIHtcclxuICAgIHN1cGVyKGZvcm1FbGVtZW50KTtcclxuICAgIHRoaXMuX3VybElucHV0ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlSW5wdXRcIik7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wcm9maWxlUG9wdXAtYmxvY2tfX2J1dHRvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fdXNlclBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLXBob3RvXCIpO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBzdWJtaXRDaGFuZ2VkUGhvdG8oKSB7XHJcbiAgICBjb25zdCBuZXdBdmF0YXJVcmwgPSB0aGlzLl91cmxJbnB1dC52YWx1ZTtcclxuXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkd1YXJkYW5kby4uLlwiO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBhcGlcclxuICAgICAgLnVwZGF0ZUF2YXRhcihuZXdBdmF0YXJVcmwpXHJcbiAgICAgIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlUGhvdG8obmV3QXZhdGFyVXJsKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBhY3R1YWxpemFyIGxhIGZvdG8gZGUgcGVyZmlsOlwiLCBlcnJvcik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkd1YXJkYXJcIjtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgY2hhbmdlUGhvdG9Qb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgdXBkYXRlUGhvdG8obmV3SW1hZ2VVcmwpIHtcclxuICAgIHRoaXMuX3VzZXJQaG90by5zcmMgPSBuZXdJbWFnZVVybDtcclxuICB9XHJcbiAgc2V0SW5pdGlhbFZhbHVlKCkge1xyXG4gICAgdGhpcy5fdXJsSW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5zdWJtaXRDaGFuZ2VkUGhvdG8oKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRW50ZXJLZXlQcmVzcygpO1xyXG4gICAgICAgIGF2YXRhckZvcm1WYWxpZGF0b3IuY2hlY2tJbnB1dFZhbGlkaXR5KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3VybElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl91cmxJbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlU3VibWl0KCk7XHJcbiAgICAgICAgYXZhdGFyRm9ybVZhbGlkYXRvci5oaWRlSW5wdXRFcnJvcigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgX2hhbmRsZUVudGVyS2V5UHJlc3MoKSB7XHJcbiAgICBpZiAodGhpcy5fdXJsSW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5zdWJtaXRDaGFuZ2VkUGhvdG8oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVuYWJsZVN1Ym1pdCgpIHtcclxuICAgIGRvY3VtZW50XHJcbiAgICAgIC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdEF2YXRhclwiKVxyXG4gICAgICAuY2xhc3NMaXN0LmFkZChcInByb2ZpbGVQb3B1cC1ibG9ja19fYnV0dG9uXCIpO1xyXG4gICAgZG9jdW1lbnRcclxuICAgICAgLmdldEVsZW1lbnRCeUlkKFwic3VibWl0QXZhdGFyXCIpXHJcbiAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwicHJvZmlsZVBvcHVwLWJsb2NrX19idXR0b25EaXNhYmxlZFwiKTtcclxuICB9XHJcbiAgZGlzYWJsZVN1Ym1pdCgpIHtcclxuICAgIGRvY3VtZW50XHJcbiAgICAgIC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdEF2YXRhclwiKVxyXG4gICAgICAuY2xhc3NMaXN0LmFkZChcInByb2ZpbGVQb3B1cC1ibG9ja19fYnV0dG9uRGlzYWJsZWRcIik7XHJcbiAgICBkb2N1bWVudFxyXG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXRBdmF0YXJcIilcclxuICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJwcm9maWxlUG9wdXAtYmxvY2tfX2J1dHRvblwiKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBlZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIi5mb3JtdWxhcmlvLWVkaXRcIixcclxuICAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiVmFsb3JlcyBkZWwgVXN1YXJpbzpcIiwgaW5wdXRWYWx1ZXMpO1xyXG4gIH1cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VySW5mb0luc3RhbmNlID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnVzZXJfX3RvcC1uYW1lXCIsXHJcbiAgYWJvdXRTZWxlY3RvcjogXCIudXNlcl9fYm90dG9tXCIsXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1FZGl0IGV4dGVuZHMgRm9ybSB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQpIHtcclxuICAgIHN1cGVyKGZvcm1FbGVtZW50KTtcclxuICAgIHRoaXMuX25vbWJyZUlucHV0ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNub21icmVcIik7XHJcbiAgICB0aGlzLl9hYm91dElucHV0ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNhYm91dFwiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3VhcmRhci1idXR0b25FZGl0XCIpO1xyXG5cclxuICAgIHRoaXMuc2V0SW5pdGlhbFZhbHVlcygpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNldEluaXRpYWxWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSB1c2VySW5mb0luc3RhbmNlLmdldFVzZXJJbmZvKCk7XHJcbiAgICB0aGlzLl9ub21icmVJbnB1dC52YWx1ZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9hYm91dElucHV0LnZhbHVlID0gYWJvdXQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFbnRlcktleVByZXNzKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX25vbWJyZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUlucHV0VmFsaWRhdGlvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fYWJvdXRJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbnB1dFZhbGlkYXRpb24oKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUlucHV0VmFsaWRhdGlvbigpIHtcclxuICAgIGlmICh0aGlzLl9ub21icmVJbnB1dC52YWxpZGl0eS52YWxpZCAmJiB0aGlzLl9hYm91dElucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVudGVyS2V5UHJlc3MoKSB7XHJcbiAgICBpZiAodGhpcy5fbm9tYnJlSW5wdXQudmFsaWRpdHkudmFsaWQgJiYgdGhpcy5fYWJvdXRJbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZGlzYWJsZVN1Ym1pdCgpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZ3VhcmRhci1lZGl0XCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJndWFyZGFyLWRpc2FibGVkRWRpdFwiKTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVTdWJtaXQoKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkd1YXJkYXJcIjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJndWFyZGFyLWVkaXRcIik7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImd1YXJkYXItZGlzYWJsZWRFZGl0XCIpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdEZvcm0oKSB7XHJcbiAgICBjb25zdCBuZXdOYW1lID0gdGhpcy5fbm9tYnJlSW5wdXQudmFsdWU7XHJcbiAgICBjb25zdCBuZXdBYm91dCA9IHRoaXMuX2Fib3V0SW5wdXQudmFsdWU7XHJcblxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJHdWFyZGFuZG8uLi5cIjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgZmV0Y2goXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wOC91c2Vycy9tZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJjZWJkNDAwZS1jYjEzLTQ3OGYtYTU3Ni0xOTY5Njk3Yzk1NzBcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5ld05hbWUsXHJcbiAgICAgICAgYWJvdXQ6IG5ld0Fib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAudGhlbigodXBkYXRlZFVzZXJEYXRhKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm9JbnN0YW5jZS5zZXRVc2VySW5mbyh7XHJcbiAgICAgICAgICBuYW1lOiB1cGRhdGVkVXNlckRhdGEubmFtZSxcclxuICAgICAgICAgIGFib3V0OiB1cGRhdGVkVXNlckRhdGEuYWJvdXQsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGFjdHVhbGl6YXIgZWwgcGVyZmlsOlwiLCBlcnJvcik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICB0aGlzLl9lbmFibGVTdWJtaXQoKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5mb3JtdWxhcmlvLWFkZFwiLCAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICAvLy9ubyBlcyBuZWNlc2FyaW8gbW9zdHJhciBsb3MgdmFsb3JlcyBkZSBhZGRQb3B1cFxyXG59KTtcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtQWRkIGV4dGVuZHMgRm9ybSB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQpIHtcclxuICAgIHN1cGVyKGZvcm1FbGVtZW50KTtcclxuICAgIHRoaXMuX3RpdGxlSW5wdXQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpdHVsb1wiKTtcclxuICAgIHRoaXMuX2xpbmtJbnB1dCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGlua1wiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3VhcmRhci1idXR0b25BZGRcIik7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyc0FkZCgpO1xyXG4gIH1cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnNBZGQoKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFbnRlcktleVByZXNzKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGFkZFRpdHVsby5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAoYWRkVGl0dWxvLnZhbGlkaXR5LnZhbGlkICYmIGFkZExpbmsudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICB0aGlzLl9lbmFibGVTdWJtaXQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9kaXNhYmxlU3VibWl0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgYWRkTGluay5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAoYWRkVGl0dWxvLnZhbGlkaXR5LnZhbGlkICYmIGFkZExpbmsudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICB0aGlzLl9lbmFibGVTdWJtaXQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9kaXNhYmxlU3VibWl0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVudGVyS2V5UHJlc3MoKSB7XHJcbiAgICBpZiAoYWRkVGl0dWxvLnZhbGlkaXR5LnZhbGlkICYmIGFkZExpbmsudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2Rpc2FibGVTdWJtaXQoKSB7XHJcbiAgICBkb2N1bWVudFxyXG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZGFyLWJ1dHRvbkFkZFwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnJlbW92ZShcImd1YXJkYXItYWRkXCIpO1xyXG4gICAgZG9jdW1lbnRcclxuICAgICAgLmdldEVsZW1lbnRCeUlkKFwiZ3VhcmRhci1idXR0b25BZGRcIilcclxuICAgICAgLmNsYXNzTGlzdC5hZGQoXCJndWFyZGFyLWRpc2FibGVkQWRkXCIpO1xyXG4gIH1cclxuICBfZW5hYmxlU3VibWl0KCkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZGFyLWJ1dHRvbkFkZFwiKS5jbGFzc0xpc3QuYWRkKFwiZ3VhcmRhci1hZGRcIik7XHJcbiAgICBkb2N1bWVudFxyXG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZGFyLWJ1dHRvbkFkZFwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnJlbW92ZShcImd1YXJkYXItZGlzYWJsZWRBZGRcIik7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImd1YXJkYXItYnV0dG9uQWRkXCIpLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImd1YXJkYXItYnV0dG9uQWRkXCIpLnRleHRDb250ZW50ID0gXCJHdWFyZGFyXCI7XHJcbiAgfVxyXG4gIF9lbXB0eUlucHV0cygpIHtcclxuICAgIHRoaXMuX3RpdGxlSW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgdGhpcy5fbGlua0lucHV0LnZhbHVlID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVTdWJtaXRGb3JtKCkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZGFyLWJ1dHRvbkFkZFwiKS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImd1YXJkYXItYnV0dG9uQWRkXCIpLnRleHRDb250ZW50ID0gXCJHdWFyZGFuZG8uLi5cIjtcclxuICAgIGFkZE5ld0NhcmQodGhpcy5fdGl0bGVJbnB1dC52YWx1ZSwgdGhpcy5fbGlua0lucHV0LnZhbHVlKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5fZW5hYmxlU3VibWl0KCk7XHJcblxyXG4gICAgICBhZGRQb3B1cC5jbG9zZSgpO1xyXG4gICAgfSwgNDAwKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHtcclxuICBlZGl0QnV0dG9uLFxyXG4gIGFkZEJ1dHRvbixcclxuICBlZGl0Rm9ybUVsZW1lbnQsXHJcbiAgYWRkRm9ybUVsZW1lbnQsXHJcbiAgRm9ybUVkaXQsXHJcbiAgRm9ybUFkZCxcclxuICBlZGl0UG9wdXAsXHJcbiAgYWRkUG9wdXAsXHJcbiAgY2hhbmdlUGhvdG9Qb3B1cCxcclxuICBGb3JtQ2hhbmdlUGhvdG8sXHJcbn0gZnJvbSBcIi4vdXRpbHMuanNcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgbm9tYnJlRm9ybVZhbGlkYXRvcixcclxuICBhYm91dEZvcm1WYWxpZGF0b3IsXHJcbiAgdGl0dWxvRm9ybVZhbGlkYXRvcixcclxuICBsaW5rRm9ybVZhbGlkYXRvcixcclxuICBhdmF0YXJGb3JtVmFsaWRhdG9yLFxyXG59IGZyb20gXCIuL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuXHJcbmltcG9ydCB7IENhcmQsIGl0ZW1zIH0gZnJvbSBcIi4vQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbywgdXNlckRhdGEsIGlzT3duZXIgfSBmcm9tIFwiLi9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi9hcGkuanNcIjtcclxuXHJcbmNvbnN0IGNoYW5nZVBob3RvRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVBvcHVwXCIpO1xyXG5jb25zdCBjaGFuZ2VQaG90byA9IG5ldyBGb3JtQ2hhbmdlUGhvdG8oY2hhbmdlUGhvdG9FbGVtZW50KTtcclxuY29uc3QgdXNlclByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXItcGhvdG9CYWNrXCIpO1xyXG5cclxudXNlclByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjaGFuZ2VQaG90b1BvcHVwLm9wZW4oKTtcclxuICBjaGFuZ2VQaG90by5zZXRJbml0aWFsVmFsdWUoKTtcclxuICBhdmF0YXJGb3JtVmFsaWRhdG9yLmhpZGVJbnB1dEVycm9yKCk7XHJcbiAgY2hhbmdlUGhvdG8uZGlzYWJsZVN1Ym1pdCgpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbS50ZXh0LCBpdGVtLmltYWdlKTtcclxuICAgICAgY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkLl9lbGVtZW50KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5pbWFnZXNcIlxyXG4pO1xyXG5cclxuY2FyZFNlY3Rpb24ucmVuZGVyKCk7XHJcblxyXG4vL2Zvcm11bGFyaW8gRWRpdFxyXG5jb25zdCBlZGl0Rm9ybSA9IG5ldyBGb3JtRWRpdChlZGl0Rm9ybUVsZW1lbnQpO1xyXG5cclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGVkaXRQb3B1cC5vcGVuKCk7XHJcbiAgZWRpdEZvcm0uc2V0SW5pdGlhbFZhbHVlcygpO1xyXG4gIGVkaXRGb3JtLl9lbmFibGVTdWJtaXQoKTtcclxuICBub21icmVGb3JtVmFsaWRhdG9yLmNoZWNrSW5wdXRWYWxpZGl0eSgpO1xyXG4gIGFib3V0Rm9ybVZhbGlkYXRvci5jaGVja0lucHV0VmFsaWRpdHkoKTtcclxuICBub21icmVGb3JtVmFsaWRhdG9yLmhpZGVJbnB1dEVycm9yKCk7XHJcbiAgYWJvdXRGb3JtVmFsaWRhdG9yLmhpZGVJbnB1dEVycm9yKCk7XHJcbn0pO1xyXG5cclxuLy9mb3JtdWxhcmlvIEFkZFxyXG5jb25zdCBhZGRGb3JtID0gbmV3IEZvcm1BZGQoYWRkRm9ybUVsZW1lbnQpO1xyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhZGRQb3B1cC5vcGVuKCk7XHJcbiAgYWRkRm9ybS5fZW1wdHlJbnB1dHMoKTtcclxuICBhZGRGb3JtLl9kaXNhYmxlU3VibWl0KCk7XHJcbiAgdGl0dWxvRm9ybVZhbGlkYXRvci5oaWRlSW5wdXRFcnJvcigpO1xyXG4gIGxpbmtGb3JtVmFsaWRhdG9yLmhpZGVJbnB1dEVycm9yKCk7XHJcbn0pO1xyXG5cclxuY2FyZFNlY3Rpb24uY2xlYXIoKTtcclxuXHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKHVzZXJJbmZvKSA9PiB7XHJcbiAgICB1c2VyRGF0YS5uYW1lID0gdXNlckluZm8ubmFtZTtcclxuICAgIHVzZXJEYXRhLmFib3V0ID0gdXNlckluZm8uYWJvdXQ7XHJcbiAgICB1c2VyRGF0YS5hdmF0YXIgPSB1c2VySW5mby5hdmF0YXI7XHJcbiAgICB1c2VyRGF0YS5faWQgPSB1c2VySW5mby5faWQ7XHJcblxyXG4gICAgcmV0dXJuIGFwaS5nZXRJbml0aWFsQ2FyZHMoKTtcclxuICB9KVxyXG4gIC50aGVuKChjYXJkc0RhdGEpID0+IHtcclxuICAgIGNhcmRzRGF0YS5mb3JFYWNoKChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkSW5mbyA9IHtcclxuICAgICAgICBuYW1lOiBjYXJkRGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGNhcmREYXRhLmxpbmssXHJcbiAgICAgICAgb3duZXI6IGNhcmREYXRhLm93bmVyLFxyXG4gICAgICAgIGlkOiBjYXJkRGF0YS5faWQsXHJcbiAgICAgICAgbGlrZXM6IGNhcmREYXRhLmxpa2VzLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWRlbnRpZnlDYXJkKGNhcmRJbmZvKTtcclxuXHJcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkRGF0YS5uYW1lLCBjYXJkRGF0YS5saW5rLCBjYXJkSW5mbyk7XHJcbiAgICAgIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZC5fZWxlbWVudCk7XHJcblxyXG4gICAgICBjb25zdCBkZWxldGVJY29uID0gY2FyZC5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RfX2RlbGV0ZVwiKTtcclxuICAgICAgY29uc3QgZGVsZXRlSWNvbkhvdmVyID0gY2FyZC5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLnBvc3RfX2RlbGV0ZS1ob3ZlclwiXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBpc0N1cnJlbnRVc2VyT3duZXIgPSBpc093bmVyKHVzZXJEYXRhLCBjYXJkSW5mby5vd25lcik7XHJcblxyXG4gICAgICBkZWxldGVJY29uLnN0eWxlLmRpc3BsYXkgPSBpc0N1cnJlbnRVc2VyT3duZXIgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcclxuICAgICAgZGVsZXRlSWNvbkhvdmVyLnN0eWxlLmRpc3BsYXkgPSBpc0N1cnJlbnRVc2VyT3duZXIgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcclxuXHJcbiAgICAgIGNvbnN0IGxpa2VzQ291bnRFbGVtZW50ID1cclxuICAgICAgICBjYXJkLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fbGlrZS1jb3VudFwiKTtcclxuICAgICAgbGlrZXNDb3VudEVsZW1lbnQudGV4dENvbnRlbnQgPSBjYXJkSW5mby5saWtlcy5sZW5ndGgudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgIGNvbnN0IGxpa2VCdXR0b24gPSBjYXJkLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fbGlrZVwiKTtcclxuICAgICAgaWYgKGNhcmRJbmZvLmxpa2VzLnNvbWUoKHVzZXIpID0+IHVzZXIuX2lkID09PSB1c2VyRGF0YS5faWQpKSB7XHJcbiAgICAgICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicG9zdF9fbGlrZWRcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIG9idGVuZXIgbGFzIHRhcmpldGFzOlwiLCBlcnJvcik7XHJcbiAgfSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpZnlDYXJkKGNhcmRDb250YWluZXIpIHtcclxuICAvL2NvbnNvbGUubG9nKFwiSUQgZGUgbGEgdGFyamV0YSBpZGVudGlmaWFkYVwiLCBjYXJkQ29udGFpbmVyLmlkKTtcclxufVxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidmFsdWUiLCJfdGhpcyIsImZvckVhY2giLCJpdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfY29udGVudCIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2NyZWF0ZUNsYXNzIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJjbG9zZSIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiX2NyZWF0ZVN1cGVyIiwiX3RoaXMyIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBDYXB0aW9uIiwiaW1hZ2VTcmMiLCJpbWFnZUNhcHRpb24iLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJQb3B1cFdpdGhGb3JtIiwiX1BvcHVwMiIsIl9zdXBlcjIiLCJzdWJtaXRDYWxsYmFjayIsIl90aGlzMyIsIl9zdWJtaXRDYWxsYmFjayIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsImlkIiwiX3RoaXM0IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJhcGkiLCJBcGkiLCJvcHRpb25zIiwiYmFzZVVybCIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiY29uY2F0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJhdmF0YXJVcmwiLCJtZXRob2QiLCJhdXRob3JpemF0aW9uIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJuYW1lIiwibGluayIsImNhcmRJZCIsIkVycm9yIiwiZXJyb3IiLCJfdGhpczUiLCJfdGhpczYiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfYWJvdXRFbGVtZW50IiwiX3VzZXJBdmF0YXIiLCJ1c2VySWQiLCJnZXRVc2VySW5mb0FwaSIsImFib3V0IiwiZ2V0VXNlckluZm8iLCJyZXN1bHQiLCJfaWQiLCJ1c2VyRGF0YSIsIl9yZWYyIiwiaXNPd25lciIsImNhcmRPd25lciIsImltYWdlIiwiemlvbkltYWdlIiwidGV4dCIsInBvcHVwV2l0aEltYWdlIiwicG9wdXBEZWxldGVDYXJkIiwiQ2FyZCIsImNhcmROYW1lIiwiY2FyZEluZm8iLCJhbHRUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX2NhcmROYW1lIiwiX2ltYWdlIiwiX2FsdFRleHQiLCJfZGVsZXRlUG9wdXAiLCJfZGVsZXRlQnV0dG9uIiwiX2NhcmRJbmZvIiwiY2FyZEVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjYXJkTmFtZUVsZW1lbnQiLCJjYXJkSW1hZ2VFbGVtZW50Iiwib3BlbiIsImxpa2VCdXR0b24iLCJfZWxlbWVudCIsImxpa2VCdXR0b25Ib3ZlciIsImxpa2VzQ291bnRFbGVtZW50IiwiaXNMaWtlZCIsInBhcnNlSW50IiwicmVtb3ZlTGlrZSIsInVwZGF0ZWRDYXJkRGF0YSIsImxpa2VzIiwidG9TdHJpbmciLCJhZGRMaWtlIiwiZGVsZXRlQnV0dG9uIiwiaGFuZGxlRGVsZXRlRXZlbnQiLCJkaXNhYmxlZCIsImN1cnJlbnRDYXJkSW5mbyIsIm93bmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlbGV0ZUNhcmQiLCJkYXRhIiwibWVzc2FnZSIsImZpbmFsbHkiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2UiLCJfaGFuZGxlRGVsZXRlIiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImlucHV0Q29udGFpbmVyU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX2lucHV0Q29udGFpbmVyIiwiX2lucHV0IiwiZW5hYmxlVmFsaWRhdGlvbiIsImVycm9yRWxlbWVudCIsInNldEN1c3RvbVZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsImhpZGVJbnB1dEVycm9yIiwic2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImNoZWNrSW5wdXRWYWxpZGl0eSIsIm5vbWJyZUZvcm1WYWxpZGF0b3IiLCJhYm91dEZvcm1WYWxpZGF0b3IiLCJ0aXR1bG9Gb3JtVmFsaWRhdG9yIiwibGlua0Zvcm1WYWxpZGF0b3IiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsImVkaXRGb3JtRWxlbWVudCIsImFkZEZvcm1FbGVtZW50IiwiYWRkVGl0dWxvIiwiYWRkTGluayIsIkZvcm0iLCJmb3JtRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsImNoYW5nZVBob3RvUG9wdXAiLCJGb3JtQ2hhbmdlUGhvdG8iLCJfRm9ybSIsIl91cmxJbnB1dCIsIl9zdWJtaXRCdXR0b24iLCJfdXNlclBob3RvIiwibmV3QXZhdGFyVXJsIiwidXBkYXRlQXZhdGFyIiwidXBkYXRlUGhvdG8iLCJuZXdJbWFnZVVybCIsInN1Ym1pdENoYW5nZWRQaG90byIsIl9oYW5kbGVFbnRlcktleVByZXNzIiwiZW5hYmxlU3VibWl0IiwiZGlzYWJsZVN1Ym1pdCIsImVkaXRQb3B1cCIsInVzZXJJbmZvSW5zdGFuY2UiLCJGb3JtRWRpdCIsIl9Gb3JtMiIsIl9ub21icmVJbnB1dCIsIl9hYm91dElucHV0Iiwic2V0SW5pdGlhbFZhbHVlcyIsIl91c2VySW5mb0luc3RhbmNlJGdldCIsIl9oYW5kbGVTdWJtaXRGb3JtIiwiX2hhbmRsZUlucHV0VmFsaWRhdGlvbiIsIl9lbmFibGVTdWJtaXQiLCJfZGlzYWJsZVN1Ym1pdCIsIm5ld05hbWUiLCJuZXdBYm91dCIsInJlc3BvbnNlIiwidXBkYXRlZFVzZXJEYXRhIiwic2V0VXNlckluZm8iLCJhZGRQb3B1cCIsIkZvcm1BZGQiLCJfRm9ybTMiLCJfc3VwZXIzIiwiX3RoaXM3IiwiX3RpdGxlSW5wdXQiLCJfbGlua0lucHV0IiwiX3NldEV2ZW50TGlzdGVuZXJzQWRkIiwiX3RoaXM4IiwiX3RoaXM5IiwiYWRkQ2FyZCIsIm5ld0NhcmREYXRhIiwibmV3Q2FyZCIsImdlbmVyYXRlQ2FyZCIsImNhcmRTZWN0aW9uIiwiYWRkTmV3SXRlbSIsInNldFRpbWVvdXQiLCJjaGFuZ2VQaG90byIsInNldEluaXRpYWxWYWx1ZSIsImNhcmQiLCJhZGRJdGVtIiwicmVuZGVyIiwiZWRpdEZvcm0iLCJhZGRGb3JtIiwiaWRlbnRpZnlDYXJkIiwiY2FyZENvbnRhaW5lciIsIl9lbXB0eUlucHV0cyIsImNsZWFyIiwidXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkc0RhdGEiLCJjYXJkRGF0YSIsImRlbGV0ZUljb24iLCJkZWxldGVJY29uSG92ZXIiLCJpc0N1cnJlbnRVc2VyT3duZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJzb21lIiwidXNlciJdLCJzb3VyY2VSb290IjoiIn0=