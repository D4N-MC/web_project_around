!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p:""};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}e.d({},{l:function(){return ce}});var r=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"render",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"addNewItem",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){for(;this._container.firstChild;)this._container.removeChild(this._container.firstChild)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=function(){function e(t){s(this,e),this._popup=document.querySelector(t),this._content=this._popup.querySelector(".contentPopup"),this._handleCloseButtonClick=this._handleCloseButtonClick.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this._handleMouseDown=this._handleMouseDown.bind(this)}return f(e,[{key:"open",value:function(){this._popup.classList.add("popup_opened"),this.setEventListeners()}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),this.removeEventListeners()}},{key:"setEventListeners",value:function(){this._popup.addEventListener("click",this._handleCloseButtonClick),document.addEventListener("keydown",this._handleKeyDown),this._popup.addEventListener("mousedown",this._handleMouseDown)}},{key:"removeEventListeners",value:function(){this._popup.removeEventListener("click",this._handleCloseButtonClick),document.removeEventListener("keydown",this._handleKeyDown),this._popup.removeEventListener("mousedown",this._handleMouseDown)}},{key:"_handleCloseButtonClick",value:function(e){e.target.classList.contains("closeButton")&&this.close()}},{key:"_handleKeyDown",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleMouseDown",value:function(e){this._content.contains(e.target)||this.close()}}]),e}(),h=function(e){u(n,e);var t=l(n);function n(e){var r;return s(this,n),(r=t.call(this,e))._popupImage=r._popup.querySelector(".image-popup__image"),r._popupCaption=r._popup.querySelector(".image-popup__name"),r}return f(n,[{key:"open",value:function(e,t){i(c(n.prototype),"open",this).call(this),this._popupImage.src=e,this._popupImage.alt=t,this._popupCaption.textContent=t}}]),n}(p),m=function(e){u(n,e);var t=l(n);function n(e,r){var o;return s(this,n),(o=t.call(this,e))._submitCallback=r,o._inputList=o._popup.querySelectorAll(".input"),o.setSubmitListener(),o}return f(n,[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.id]=t.value})),e}},{key:"setSubmitListener",value:function(){var e=this;this._popup.addEventListener("submit",(function(t){t.preventDefault(),e._submitCallback(e._getInputValues()),e.close()}))}},{key:"close",value:function(){i(c(n.prototype),"close",this).call(this)}}]),n}(p);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}var v=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers}).then((function(t){return e._checkResponse(t)})).catch((function(e){throw console.log(e),e}))}},{key:"updateAvatar",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this.headers.authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return t._checkResponse(e)})).catch((function(e){throw console.log(e),e}))}},{key:"addCard",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return n._checkResponse(e)})).catch((function(e){throw console.log(e),e}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this.headers.authorization}}).then((function(e){if(e.ok)return e.json();throw new Error("Error: ".concat(e.status))})).catch((function(e){throw console.error("Error en deleteCard:",e),e}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers}).then((function(t){return e._checkResponse(t)})).catch((function(e){console.log(e)}))}},{key:"addLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this.headers}).then((function(e){return t._checkResponse(e)})).catch((function(e){throw console.log(e),e}))}},{key:"removeLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return t._checkResponse(e)})).catch((function(e){throw console.log(e),e}))}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({baseUrl:"https://around.nomoreparties.co/v1/web_es_08",headers:{authorization:"cebd400e-cb13-478f-a576-1969697c9570","Content-Type":"application/json"}});function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}var g=function(){function e(t){var n=t.nameSelector,r=t.aboutSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._aboutElement=document.querySelector(r),this._userAvatar=document.querySelector(".user-photo"),this.userId}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this.getUserInfoApi(),{name:this._nameElement.textContent,about:this._aboutElement.textContent}}},{key:"getUserInfoApi",value:function(){var e=this;return v.getUserInfo().then((function(t){return e._nameElement.textContent=t.name,e._aboutElement.textContent=t.about,e._userAvatar.src=t.avatar,e.userId=t._id,S.name=t.name,S.about=t.about,S.avatar=t.avatar,S._id=t._id,t})).catch((function(e){throw console.log(e),e}))}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;this._nameElement.textContent=t,this._aboutElement.textContent=n}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),S={name:"",about:"",avatar:"",_id:""};function E(e,t){return e._id===t._id}var w=e.p+"abe4ddd19a9f23445254.jpg";function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===I(o)?o:String(o)),r)}var o}e.p,e.p,e.p;var L=[{image:w,text:"Zion Parque Nacional"}],C=(document.querySelector(".images"),document.querySelector(".image-popup"),document.querySelector(".image-popup__image"),document.querySelector(".image-popup__close"),document.querySelector(".image-popup__name"),new h(".image-popup")),j=new p(".eliminatePopup"),q=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardName=t,this._image=n,this._altText=o,this._deletePopup=document.querySelector(".eliminatePopup"),this._deleteButton=this._deletePopup.querySelector(".beforeEliminate-button"),this._cardInfo=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){var e=document.getElementById("post-template").content.querySelector(".post").cloneNode(!0),t=e.querySelector(".post__text"),n=e.querySelector(".post__image");return t.textContent=this._cardName,n.src=this._image,n.alt=this._altText,e}},{key:"_handleCardClick",value:function(){C.open(this._image,this._cardName)}},{key:"_handleLike",value:function(){var e=this._element.querySelector(".post__like"),t=this._element.querySelector(".post__like-hover"),n=this._element.querySelector(".post__like-count"),r=(parseInt(n.textContent),e.classList.contains("post__liked")),o=this._cardInfo.id;r?v.removeLike(o).then((function(r){n.textContent=r.likes.length.toString(),e.classList.remove("post__liked"),t.classList.remove("post__liked")})).catch((function(e){console.error('Error al quitar "me gusta" de la tarjeta:',e)})):v.addLike(o).then((function(r){n.textContent=r.likes.length.toString(),e.classList.add("post__liked"),t.classList.add("post__liked")})).catch((function(e){console.error('Error al dar "me gusta" a la tarjeta:',e)}))}},{key:"_handleDelete",value:function(){var e=this,t=this._deleteButton;j.open(),t.addEventListener("click",(function n(){t.disabled=!0,t.textContent="Eliminando...";var r=e._cardInfo,o=r.id;E(S,r.owner),t.removeEventListener("click",n),v.deleteCard(o).then((function(t){if(!t.message||"This post has been deleted"!==t.message)throw new Error("Error al eliminar la tarjeta: Respuesta inesperada del servidor");e._element&&e._element.remove()})).catch((function(e){console.error("Error al eliminar la tarjeta:",e)})).finally((function(){j.close(),t.textContent="Sí",t.disabled=!1}))}))}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".post__image").addEventListener("click",(function(){e._handleCardClick()})),this._element.querySelector(".post__like").addEventListener("click",(function(){e._handleLike()})),this._element.querySelector(".post__delete").addEventListener("click",(function(){e._handleDelete()}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}var x=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputContainer=document.querySelector(t),this._input=this._inputContainer.querySelector(n),this.enableValidation()}var t,n;return t=e,(n=[{key:"showInputError",value:function(e){var t=this._inputContainer.querySelector(".error-message");this._input===document.getElementById("link")&&(e="Ingrese una URL valida"),t.textContent=e,this._input.setCustomValidity(""),this._input.classList.add("error")}},{key:"hideInputError",value:function(){this._inputContainer.querySelector(".error-message").textContent="",this._input.classList.remove("error")}},{key:"checkInputValidity",value:function(){this._input.validity.valid?this.hideInputError():this.showInputError(this._input.validationMessage)}},{key:"enableValidation",value:function(){var e=this;this._input.addEventListener("input",(function(){e.checkInputValidity()}))}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),T=new x(".block-edit__nombre","#nombre"),R=new x(".block-edit__about","#about"),A=new x(".block-add__titulo","#titulo"),D=new x(".block-add__link","#link"),U=new x(".profile-input","#profileInput");function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},K.apply(this,arguments)}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===V(o)?o:String(o)),r)}var o}function H(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Z=document.querySelector(".user__top-normal"),Q=document.querySelector(".user-add"),W=(document.querySelector(".user__top-name"),document.querySelector(".user__bottom"),document.querySelector(".formulario-edit")),X=(document.querySelector(".block-edit__text"),document.querySelector("#nombre"),document.querySelector("#about"),document.querySelector("#guardar-buttonEdit"),document.querySelector(".block-edit"),document.querySelector(".formulario-add")),Y=(document.querySelector(".block-add__text"),document.querySelector("#titulo")),$=document.querySelector("#link"),ee=(document.querySelector("#guardar-buttonAdd"),document.querySelector(".block-add"),function(){function e(t){F(this,e),this._formElement=t}return H(e,[{key:"_setEventListeners",value:function(){var e=this;this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm()})),this._formElement.addEventListener("keydown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._handleEnterKeyPress())}))}}]),e}()),te=new p(".profilePopup"),ne=function(e){N(n,e);var t=G(n);function n(e){var r;return F(this,n),(r=t.call(this,e))._urlInput=e.querySelector("#profileInput"),r._submitButton=e.querySelector(".profilePopup-block__button"),r._userPhoto=document.querySelector(".user-photo"),r._setProfileEventListeners(),r}return H(n,[{key:"submitChangedPhoto",value:function(){var e=this,t=this._urlInput.value;this._submitButton.textContent="Guardando...",this._submitButton.disabled=!0,v.updateAvatar(t).then((function(n){e.updatePhoto(t)})).catch((function(e){console.error("Error al actualizar la foto de perfil:",e)})).finally((function(){e._submitButton.textContent="Guardar",e._submitButton.disabled=!1,te.close()}))}},{key:"updatePhoto",value:function(e){this._userPhoto.src=e}},{key:"setInitialValue",value:function(){this._urlInput.value=""}},{key:"_setProfileEventListeners",value:function(){var e=this;this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e.submitChangedPhoto()})),this._formElement.addEventListener("keydown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._handleEnterKeyPress(),U.checkInputValidity())})),this._urlInput.addEventListener("input",(function(){e._urlInput.validity.valid?(e.enableSubmit(),U.hideInputError()):e.disableSubmit()}))}},{key:"_setEventListeners",value:function(){}},{key:"_handleEnterKeyPress",value:function(){this._urlInput.validity.valid&&this.submitChangedPhoto()}},{key:"enableSubmit",value:function(){document.getElementById("submitAvatar").classList.add("profilePopup-block__button"),document.getElementById("submitAvatar").classList.remove("profilePopup-block__buttonDisabled")}},{key:"disableSubmit",value:function(){document.getElementById("submitAvatar").classList.add("profilePopup-block__buttonDisabled"),document.getElementById("submitAvatar").classList.remove("profilePopup-block__button")}}]),n}(ee),re=new m(".formulario-edit",(function(e){})),oe=new g({nameSelector:".user__top-name",aboutSelector:".user__bottom"}),ie=function(e){N(n,e);var t=G(n);function n(e){var r;return F(this,n),(r=t.call(this,e))._nombreInput=e.querySelector("#nombre"),r._aboutInput=e.querySelector("#about"),r._submitButton=e.querySelector("#guardar-buttonEdit"),r.setInitialValues(),r._setEventListeners(),r}return H(n,[{key:"setInitialValues",value:function(){var e=oe.getUserInfo(),t=e.name,n=e.about;this._nombreInput.value=t,this._aboutInput.value=n}},{key:"_setEventListeners",value:function(){var e=this;K(M(n.prototype),"_setEventListeners",this).call(this),this._nombreInput.addEventListener("input",(function(){e._handleInputValidation()})),this._aboutInput.addEventListener("input",(function(){e._handleInputValidation()}))}},{key:"_handleInputValidation",value:function(){this._nombreInput.validity.valid&&this._aboutInput.validity.valid?this._enableSubmit():this._disableSubmit()}},{key:"_handleEnterKeyPress",value:function(){this._nombreInput.validity.valid&&this._aboutInput.validity.valid&&this._handleSubmitForm()}},{key:"_disableSubmit",value:function(){this._submitButton.classList.remove("guardar-edit"),this._submitButton.classList.add("guardar-disabledEdit")}},{key:"_enableSubmit",value:function(){this._submitButton.textContent="Guardar",this._submitButton.disabled=!1,this._submitButton.classList.add("guardar-edit"),this._submitButton.classList.remove("guardar-disabledEdit")}},{key:"_handleSubmitForm",value:function(){var e=this,t=this._nombreInput.value,n=this._aboutInput.value;this._submitButton.textContent="Guardando...",this._submitButton.disabled=!0,fetch("https://around.nomoreparties.co/v1/web_es_08/users/me",{method:"PATCH",headers:{authorization:"cebd400e-cb13-478f-a576-1969697c9570","Content-Type":"application/json"},body:JSON.stringify({name:t,about:n})}).then((function(e){return e.json()})).then((function(e){oe.setUserInfo({name:e.name,about:e.about}),re.close()})).catch((function(e){console.error("Error al actualizar el perfil:",e)})).finally((function(){e._enableSubmit()}))}}]),n}(ee),ue=new m(".formulario-add",(function(e){})),ae=function(e){N(n,e);var t=G(n);function n(e){var r;return F(this,n),(r=t.call(this,e))._titleInput=e.querySelector("#titulo"),r._linkInput=e.querySelector("#link"),r._submitButton=e.querySelector("#guardar-buttonAdd"),r._setEventListeners(),r}return H(n,[{key:"_setEventListeners",value:function(){var e=this;K(M(n.prototype),"_setEventListeners",this).call(this),Y.addEventListener("input",(function(){Y.validity.valid&&$.validity.valid?e._enableSubmit():e._disableSubmit()})),$.addEventListener("input",(function(){Y.validity.valid&&$.validity.valid?e._enableSubmit():e._disableSubmit()}))}},{key:"_handleEnterKeyPress",value:function(){Y.validity.valid&&$.validity.valid&&this._handleSubmitForm()}},{key:"_disableSubmit",value:function(){document.getElementById("guardar-buttonAdd").classList.remove("guardar-add"),document.getElementById("guardar-buttonAdd").classList.add("guardar-disabledAdd")}},{key:"_enableSubmit",value:function(){document.getElementById("guardar-buttonAdd").classList.add("guardar-add"),document.getElementById("guardar-buttonAdd").classList.remove("guardar-disabledAdd"),document.getElementById("guardar-buttonAdd").disabled=!1,document.getElementById("guardar-buttonAdd").textContent="Guardar"}},{key:"_emptyInputs",value:function(){this._titleInput.value="",this._linkInput.value=""}},{key:"_handleSubmitForm",value:function(){var e,t,n=this;document.getElementById("guardar-buttonAdd").disabled=!0,document.getElementById("guardar-buttonAdd").textContent="Guardando...",e=this._titleInput.value,t=this._linkInput.value,v.addCard(e,t).then((function(e){var t={name:e.name,link:e.link,owner:e.owner,id:e._id,likes:e.likes},n=new q(e.name,e.link,t);n.generateCard(),ce.addNewItem(n._element),E(S,t.owner)})).catch((function(e){console.error("Error al añadir la nueva tarjeta:",e)})),setTimeout((function(){n._enableSubmit(),ue.close()}),400)}}]),n}(ee),le=new ne(document.querySelector(".profilePopup"));document.querySelector(".user-photoBack").addEventListener("click",(function(){te.open(),le.setInitialValue(),U.hideInputError(),le.disableSubmit()}));var ce=new r({items:L,renderer:function(e){var t=new q(e.text,e.image);t.generateCard(),ce.addItem(t._element)}},".images");ce.render();var se=new ie(W);Z.addEventListener("click",(function(){re.open(),se.setInitialValues(),se._enableSubmit(),T.checkInputValidity(),R.checkInputValidity(),T.hideInputError(),R.hideInputError()}));var de=new ae(X);Q.addEventListener("click",(function(){ue.open(),de._emptyInputs(),de._disableSubmit(),A.hideInputError(),D.hideInputError()})),ce.clear(),v.getUserInfo().then((function(e){return S.name=e.name,S.about=e.about,S.avatar=e.avatar,S._id=e._id,v.getInitialCards()})).then((function(e){e.forEach((function(e){var t={name:e.name,link:e.link,owner:e.owner,id:e._id,likes:e.likes},n=new q(e.name,e.link,t);n.generateCard(),ce.addItem(n._element);var r=n._element.querySelector(".post__delete"),o=n._element.querySelector(".post__delete-hover"),i=E(S,t.owner);r.style.display=i?"block":"none",o.style.display=i?"block":"none",n._element.querySelector(".post__like-count").textContent=t.likes.length.toString();var u=n._element.querySelector(".post__like");t.likes.some((function(e){return e._id===S._id}))&&u.classList.add("post__liked")}))})).catch((function(e){console.error("Error al obtener las tarjetas:",e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEssS0FBTThCLEdBQ3BEMEgsRUFBS04sZUFDTEMsR0FBWU0sUUFBUUQsRUFBS3ZHLFVBRXpCLElBQU1rSCxFQUFhWCxFQUFLdkcsU0FBU3ZJLGNBQWMsaUJBQ3pDMFAsRUFBa0JaLEVBQUt2RyxTQUFTdkksY0FDcEMsdUJBR0kyUCxFQUFxQmhKLEVBQVFGLEVBQVVXLEVBQVNpQyxPQUV0RG9HLEVBQVdHLE1BQU1DLFFBQVVGLEVBQXFCLFFBQVUsT0FDMURELEVBQWdCRSxNQUFNQyxRQUFVRixFQUFxQixRQUFVLE9BRzdEYixFQUFLdkcsU0FBU3ZJLGNBQWMscUJBQ1oyQyxZQUFjeUUsRUFBUzBCLE1BQU12QixPQUFPd0IsV0FFdEQsSUFBTVQsRUFBYXdHLEVBQUt2RyxTQUFTdkksY0FBYyxlQUMzQ29ILEVBQVMwQixNQUFNZ0gsTUFBSyxTQUFDQyxHQUFJLE9BQUtBLEVBQUt2SixNQUFRQyxFQUFTRCxHQUFHLEtBQ3pEOEIsRUFBV25ILFVBQVVDLElBQUksY0FFN0IsR0FDRixJQUNDc0QsT0FBTSxTQUFDZSxHQUNOYixRQUFRYSxNQUFNLGlDQUFrQ0EsRUFDbEQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL1RyaXBsZVRlbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9UcmlwbGVUZW4vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL1RyaXBsZVRlbi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1RyaXBsZVRlbi93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9UcmlwbGVUZW4vLi9zcmMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL1RyaXBsZVRlbi8uL3NyYy9zY3JpcHRzL1BvcHVwLmpzIiwid2VicGFjazovL1RyaXBsZVRlbi8uL3NyYy9zY3JpcHRzL2FwaS5qcyIsIndlYnBhY2s6Ly9UcmlwbGVUZW4vLi9zcmMvc2NyaXB0cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9UcmlwbGVUZW4vLi9zcmMvc2NyaXB0cy9DYXJkLmpzIiwid2VicGFjazovL1RyaXBsZVRlbi8uL3NyYy9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vVHJpcGxlVGVuLy4vc3JjL3NjcmlwdHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vVHJpcGxlVGVuLy4vc3JjL3NjcmlwdHMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuICBhZGROZXdJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuICBjbGVhcigpIHtcclxuICAgIHdoaWxlICh0aGlzLl9jb250YWluZXIuZmlyc3RDaGlsZCkge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2NvbnRlbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRQb3B1cFwiKTtcclxuXHJcbiAgICB0aGlzLl9oYW5kbGVDbG9zZUJ1dHRvbkNsaWNrID0gdGhpcy5faGFuZGxlQ2xvc2VCdXR0b25DbGljay5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5faGFuZGxlS2V5RG93biA9IHRoaXMuX2hhbmRsZUtleURvd24uYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZU1vdXNlRG93biA9IHRoaXMuX2hhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbG9zZUJ1dHRvbkNsaWNrKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUtleURvd24pO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVNb3VzZURvd24pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xvc2VCdXR0b25DbGljayk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVLZXlEb3duKTtcclxuICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlTW91c2VEb3duKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDbG9zZUJ1dHRvbkNsaWNrKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNsb3NlQnV0dG9uXCIpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVLZXlEb3duKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcclxuICAgIGlmICghdGhpcy5fY29udGVudC5jb250YWlucyhldmVudC50YXJnZXQpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2UtcG9wdXBfX25hbWVcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKGltYWdlU3JjLCBpbWFnZUNhcHRpb24pIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gaW1hZ2VTcmM7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGltYWdlQ2FwdGlvbjtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi50ZXh0Q29udGVudCA9IGltYWdlQ2FwdGlvbjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdENhbGxiYWNrKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrID0gc3VibWl0Q2FsbGJhY2s7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLmlucHV0XCIpO1xyXG4gICAgdGhpcy5zZXRTdWJtaXRMaXN0ZW5lcigpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5pZF0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG59IiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLmJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIHRocm93IGVycjtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVBdmF0YXIoYXZhdGFyVXJsKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5oZWFkZXJzLmF1dGhvcml6YXRpb24sXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiBhdmF0YXJVcmwgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBsaW5rOiBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIHRocm93IGVycjtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuaGVhZGVycy5hdXRob3JpemF0aW9uLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBlbiBkZWxldGVDYXJkOlwiLCBlcnJvcik7IFxyXG4gICAgICAgIHRocm93IGVycm9yOyBcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzA4XCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJjZWJkNDAwZS1jYjEzLTQ3OGYtYTU3Ni0xOTY5Njk3Yzk1NzBcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG4iLCJpbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi9hcGkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGFib3V0U2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hYm91dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0U2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlci1waG90b1wiKTtcclxuICAgIHRoaXMudXNlcklkO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICB0aGlzLmdldFVzZXJJbmZvQXBpKCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0RWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvQXBpKCkge1xyXG4gICAgcmV0dXJuIGFwaVxyXG4gICAgICAuZ2V0VXNlckluZm8oKVxyXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSByZXN1bHQubmFtZTtcclxuICAgICAgICB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQgPSByZXN1bHQuYWJvdXQ7XHJcbiAgICAgICAgdGhpcy5fdXNlckF2YXRhci5zcmMgPSByZXN1bHQuYXZhdGFyO1xyXG4gICAgICAgIHRoaXMudXNlcklkID0gcmVzdWx0Ll9pZDtcclxuXHJcbiAgICAgICAgdXNlckRhdGEubmFtZSA9IHJlc3VsdC5uYW1lO1xyXG4gICAgICAgIHVzZXJEYXRhLmFib3V0ID0gcmVzdWx0LmFib3V0O1xyXG4gICAgICAgIHVzZXJEYXRhLmF2YXRhciA9IHJlc3VsdC5hdmF0YXI7XHJcbiAgICAgICAgdXNlckRhdGEuX2lkID0gcmVzdWx0Ll9pZDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIHRocm93IGVycjtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2Fib3V0RWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHVzZXJEYXRhID0ge1xyXG4gIG5hbWU6IFwiXCIsXHJcbiAgYWJvdXQ6IFwiXCIsXHJcbiAgYXZhdGFyOiBcIlwiLFxyXG4gIF9pZDogXCJcIixcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc093bmVyKHVzZXJEYXRhLCBjYXJkT3duZXIpIHtcclxuICByZXR1cm4gdXNlckRhdGEuX2lkID09PSBjYXJkT3duZXIuX2lkO1xyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwLCBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmltcG9ydCB7IGNhcmRTZWN0aW9uIH0gZnJvbSBcIi4vaW5kZXguanNcIjtcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4vYXBpLmpzXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvLCBpc093bmVyLCB1c2VyRGF0YSB9IGZyb20gXCIuL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB6aW9uSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9pbWFnZXMtcG9zdC96aW9uLXV0YWguanBnXCI7XHJcbmltcG9ydCB5ZWxsb3dzdG9uZUltYWdlIGZyb20gXCIuLi9pbWFnZXMvaW1hZ2VzLXBvc3QveWVsbG93c3RvbmUuanBnXCI7XHJcbmltcG9ydCBncmFuQ2Fub25JbWFnZSBmcm9tIFwiLi4vaW1hZ2VzL2ltYWdlcy1wb3N0L2dyYW4tY2HDsW9uLmpwZ1wiO1xyXG5pbXBvcnQgbGFnb0xvdWlzZUltYWdlIGZyb20gXCIuLi9pbWFnZXMvaW1hZ2VzLXBvc3QvbGFnby1sb3Vpc2UuanBnXCI7XHJcblxyXG5leHBvcnQgY29uc3QgaXRlbXMgPSBbXHJcbiAge1xyXG4gICAgaW1hZ2U6IHppb25JbWFnZSxcclxuICAgIHRleHQ6IFwiWmlvbiBQYXJxdWUgTmFjaW9uYWxcIixcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZXNcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXBvcHVwXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2UtcG9wdXBfX2ltYWdlXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2UtcG9wdXBfX2Nsb3NlXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZS1wb3B1cF9fbmFtZVwiKTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLmltYWdlLXBvcHVwXCIpO1xyXG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXAoXCIuZWxpbWluYXRlUG9wdXBcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoY2FyZE5hbWUsIGltYWdlLCBjYXJkSW5mbywgYWx0VGV4dCA9IGNhcmROYW1lKSB7XHJcbiAgICB0aGlzLl9jYXJkTmFtZSA9IGNhcmROYW1lO1xyXG4gICAgdGhpcy5faW1hZ2UgPSBpbWFnZTtcclxuICAgIHRoaXMuX2FsdFRleHQgPSBhbHRUZXh0O1xyXG4gICAgdGhpcy5fZGVsZXRlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsaW1pbmF0ZVBvcHVwXCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZGVsZXRlUG9wdXAucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuYmVmb3JlRWxpbWluYXRlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fY2FyZEluZm8gPSBjYXJkSW5mbztcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0LXRlbXBsYXRlXCIpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIGNvbnN0IGNhcmROYW1lRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fdGV4dFwiKTtcclxuICAgIGNvbnN0IGNhcmRJbWFnZUVsZW1lbnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RfX2ltYWdlXCIpO1xyXG5cclxuICAgIGNhcmROYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2NhcmROYW1lO1xyXG4gICAgY2FyZEltYWdlRWxlbWVudC5zcmMgPSB0aGlzLl9pbWFnZTtcclxuICAgIGNhcmRJbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5fYWx0VGV4dDtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDYXJkQ2xpY2soKSB7XHJcbiAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKHRoaXMuX2ltYWdlLCB0aGlzLl9jYXJkTmFtZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZSgpIHtcclxuICAgIGNvbnN0IGxpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fbGlrZVwiKTtcclxuICAgIGNvbnN0IGxpa2VCdXR0b25Ib3ZlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0X19saWtlLWhvdmVyXCIpO1xyXG4gICAgY29uc3QgbGlrZXNDb3VudEVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fbGlrZS1jb3VudFwiKTtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50TGlrZXMgPSBwYXJzZUludChsaWtlc0NvdW50RWxlbWVudC50ZXh0Q29udGVudCk7XHJcbiAgICBjb25zdCBpc0xpa2VkID0gbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3N0X19saWtlZFwiKTtcclxuXHJcbiAgICBjb25zdCBjYXJkSWQgPSB0aGlzLl9jYXJkSW5mby5pZDtcclxuXHJcbiAgICBpZiAoaXNMaWtlZCkge1xyXG4gICAgICBhcGlcclxuICAgICAgICAucmVtb3ZlTGlrZShjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKHVwZGF0ZWRDYXJkRGF0YSkgPT4ge1xyXG4gICAgICAgICAgbGlrZXNDb3VudEVsZW1lbnQudGV4dENvbnRlbnQgPVxyXG4gICAgICAgICAgICB1cGRhdGVkQ2FyZERhdGEubGlrZXMubGVuZ3RoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3N0X19saWtlZFwiKTtcclxuICAgICAgICAgIGxpa2VCdXR0b25Ib3Zlci5jbGFzc0xpc3QucmVtb3ZlKFwicG9zdF9fbGlrZWRcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBxdWl0YXIgXCJtZSBndXN0YVwiIGRlIGxhIHRhcmpldGE6JywgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLmFkZExpa2UoY2FyZElkKVxyXG4gICAgICAgIC50aGVuKCh1cGRhdGVkQ2FyZERhdGEpID0+IHtcclxuICAgICAgICAgIGxpa2VzQ291bnRFbGVtZW50LnRleHRDb250ZW50ID1cclxuICAgICAgICAgICAgdXBkYXRlZENhcmREYXRhLmxpa2VzLmxlbmd0aC50b1N0cmluZygpO1xyXG4gICAgICAgICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicG9zdF9fbGlrZWRcIik7XHJcbiAgICAgICAgICBsaWtlQnV0dG9uSG92ZXIuY2xhc3NMaXN0LmFkZChcInBvc3RfX2xpa2VkXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgZGFyIFwibWUgZ3VzdGFcIiBhIGxhIHRhcmpldGE6JywgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBfaGFuZGxlRGVsZXRlKCkge1xyXG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gdGhpcy5fZGVsZXRlQnV0dG9uO1xyXG5cclxuICAgIHBvcHVwRGVsZXRlQ2FyZC5vcGVuKCk7XHJcblxyXG4gICAgY29uc3QgaGFuZGxlRGVsZXRlRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgIGRlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGRlbGV0ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRWxpbWluYW5kby4uLlwiO1xyXG5cclxuICAgICAgY29uc3QgY3VycmVudENhcmRJbmZvID0gdGhpcy5fY2FyZEluZm87XHJcbiAgICAgIGNvbnN0IGNhcmRJZCA9IGN1cnJlbnRDYXJkSW5mby5pZDtcclxuXHJcbiAgICAgIGlzT3duZXIodXNlckRhdGEsIGN1cnJlbnRDYXJkSW5mby5vd25lcik7XHJcblxyXG4gICAgICBkZWxldGVCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZURlbGV0ZUV2ZW50KTtcclxuXHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC5kZWxldGVDYXJkKGNhcmRJZClcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGRhdGEubWVzc2FnZSAmJiBkYXRhLm1lc3NhZ2UgPT09IFwiVGhpcyBwb3N0IGhhcyBiZWVuIGRlbGV0ZWRcIikge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgXCJFcnJvciBhbCBlbGltaW5hciBsYSB0YXJqZXRhOiBSZXNwdWVzdGEgaW5lc3BlcmFkYSBkZWwgc2Vydmlkb3JcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGVsaW1pbmFyIGxhIHRhcmpldGE6XCIsIGVycm9yKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgIHBvcHVwRGVsZXRlQ2FyZC5jbG9zZSgpO1xyXG4gICAgICAgICAgZGVsZXRlQnV0dG9uLnRleHRDb250ZW50ID0gXCJTw61cIjtcclxuICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZURlbGV0ZUV2ZW50KTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9faW1hZ2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0X19saWtlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fZGVsZXRlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZSgpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkTmV3Q2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgYXBpXHJcbiAgICAuYWRkQ2FyZChuYW1lLCBsaW5rKVxyXG4gICAgLnRoZW4oKG5ld0NhcmREYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRJbmZvID0ge1xyXG4gICAgICAgIG5hbWU6IG5ld0NhcmREYXRhLm5hbWUsXHJcbiAgICAgICAgbGluazogbmV3Q2FyZERhdGEubGluayxcclxuICAgICAgICBvd25lcjogbmV3Q2FyZERhdGEub3duZXIsXHJcbiAgICAgICAgaWQ6IG5ld0NhcmREYXRhLl9pZCxcclxuICAgICAgICBsaWtlczogbmV3Q2FyZERhdGEubGlrZXMsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQobmV3Q2FyZERhdGEubmFtZSwgbmV3Q2FyZERhdGEubGluaywgY2FyZEluZm8pO1xyXG4gICAgICBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG5cclxuICAgICAgY2FyZFNlY3Rpb24uYWRkTmV3SXRlbShuZXdDYXJkLl9lbGVtZW50KTtcclxuXHJcbiAgICAgIGNvbnN0IGlzQ3VycmVudFVzZXJPd25lciA9IGlzT3duZXIodXNlckRhdGEsIGNhcmRJbmZvLm93bmVyKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBhw7FhZGlyIGxhIG51ZXZhIHRhcmpldGE6XCIsIGVycm9yKTtcclxuICAgIH0pO1xyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihpbnB1dENvbnRhaW5lclNlbGVjdG9yLCBpbnB1dFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pbnB1dENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5wdXRDb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dCA9IHRoaXMuX2lucHV0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoaW5wdXRTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9XHJcblxyXG4gIHNob3dJbnB1dEVycm9yKG1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2lucHV0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItbWVzc2FnZVwiKTtcclxuICAgIGlmICh0aGlzLl9pbnB1dCA9PT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaW5rXCIpKSB7XHJcbiAgICAgIG1lc3NhZ2UgPSBcIkluZ3Jlc2UgdW5hIFVSTCB2YWxpZGFcIjtcclxuICAgIH1cclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XHJcbiAgICB0aGlzLl9pbnB1dC5zZXRDdXN0b21WYWxpZGl0eShcIlwiKTtcclxuICAgIHRoaXMuX2lucHV0LmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcclxuICB9XHJcblxyXG4gIGhpZGVJbnB1dEVycm9yKCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5faW5wdXRDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tZXNzYWdlXCIpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIHRoaXMuX2lucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcclxuICB9XHJcblxyXG4gIGNoZWNrSW5wdXRWYWxpZGl0eSgpIHtcclxuICAgIGlmICh0aGlzLl9pbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLmhpZGVJbnB1dEVycm9yKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNob3dJbnB1dEVycm9yKHRoaXMuX2lucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrSW5wdXRWYWxpZGl0eSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgbm9tYnJlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIFwiLmJsb2NrLWVkaXRfX25vbWJyZVwiLFxyXG4gIFwiI25vbWJyZVwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBhYm91dEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICBcIi5ibG9jay1lZGl0X19hYm91dFwiLFxyXG4gIFwiI2Fib3V0XCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IHRpdHVsb0Zvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICBcIi5ibG9jay1hZGRfX3RpdHVsb1wiLFxyXG4gIFwiI3RpdHVsb1wiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBsaW5rRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFwiLmJsb2NrLWFkZF9fbGlua1wiLCBcIiNsaW5rXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFwiLnByb2ZpbGUtaW5wdXRcIiwgXCIjcHJvZmlsZUlucHV0XCIpO1xyXG4iLCJpbXBvcnQgXCIuLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHsgYWRkTmV3Q2FyZCB9IGZyb20gXCIuL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgUG9wdXAsIFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuL2FwaS5qc1wiO1xyXG5pbXBvcnQgeyBhdmF0YXJGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4vRm9ybVZhbGlkYXRvci5qc1wiO1xyXG4vL1NlY2Npb24gZGVsIHBlcmZpbCBkZWwgdXN1YXJpb1xyXG5leHBvcnQgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlcl9fdG9wLW5vcm1hbFwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlci1hZGRcIik7XHJcbmV4cG9ydCBjb25zdCB1c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlcl9fdG9wLW5hbWVcIik7XHJcbmV4cG9ydCBjb25zdCB1c2VyQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXJfX2JvdHRvbVwiKTtcclxuLy9TZWNjaW9uIGRlbCBmb3JtdWxhcmlvIGVkaXRcclxuZXhwb3J0IGNvbnN0IGVkaXRGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybXVsYXJpby1lZGl0XCIpO1xyXG5leHBvcnQgY29uc3QgZWRpdEhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmxvY2stZWRpdF9fdGV4dFwiKTtcclxuZXhwb3J0IGNvbnN0IGVkaXROb21icmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25vbWJyZVwiKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWJvdXRcIik7XHJcbmV4cG9ydCBjb25zdCBlZGl0U2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3VhcmRhci1idXR0b25FZGl0XCIpO1xyXG5leHBvcnQgY29uc3QgZWRpdEJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ibG9jay1lZGl0XCIpO1xyXG4vL1NlY2Npb24gZGVsIGZvcm11bGFyaW8gYWRkXHJcbmV4cG9ydCBjb25zdCBhZGRGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybXVsYXJpby1hZGRcIik7XHJcbmV4cG9ydCBjb25zdCBhZGRIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJsb2NrLWFkZF9fdGV4dFwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZFRpdHVsbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0dWxvXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGlua1wiKTtcclxuZXhwb3J0IGNvbnN0IGFkZFNhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2d1YXJkYXItYnV0dG9uQWRkXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJsb2NrLWFkZFwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICB9XHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFbnRlcktleVByZXNzKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNoYW5nZVBob3RvUG9wdXAgPSBuZXcgUG9wdXAoXCIucHJvZmlsZVBvcHVwXCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1DaGFuZ2VQaG90byBleHRlbmRzIEZvcm0ge1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1FbGVtZW50KSB7XHJcbiAgICBzdXBlcihmb3JtRWxlbWVudCk7XHJcbiAgICB0aGlzLl91cmxJbnB1dCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZUlucHV0XCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucHJvZmlsZVBvcHVwLWJsb2NrX19idXR0b25cIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX3VzZXJQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlci1waG90b1wiKTtcclxuXHJcbiAgICB0aGlzLl9zZXRQcm9maWxlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHN1Ym1pdENoYW5nZWRQaG90bygpIHtcclxuICAgIGNvbnN0IG5ld0F2YXRhclVybCA9IHRoaXMuX3VybElucHV0LnZhbHVlO1xyXG5cclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiR3VhcmRhbmRvLi4uXCI7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIGFwaVxyXG4gICAgICAudXBkYXRlQXZhdGFyKG5ld0F2YXRhclVybClcclxuICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQaG90byhuZXdBdmF0YXJVcmwpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGFjdHVhbGl6YXIgbGEgZm90byBkZSBwZXJmaWw6XCIsIGVycm9yKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBjaGFuZ2VQaG90b1BvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICB1cGRhdGVQaG90byhuZXdJbWFnZVVybCkge1xyXG4gICAgdGhpcy5fdXNlclBob3RvLnNyYyA9IG5ld0ltYWdlVXJsO1xyXG4gIH1cclxuICBzZXRJbml0aWFsVmFsdWUoKSB7XHJcbiAgICB0aGlzLl91cmxJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBfc2V0UHJvZmlsZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5zdWJtaXRDaGFuZ2VkUGhvdG8oKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRW50ZXJLZXlQcmVzcygpO1xyXG4gICAgICAgIGF2YXRhckZvcm1WYWxpZGF0b3IuY2hlY2tJbnB1dFZhbGlkaXR5KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3VybElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl91cmxJbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlU3VibWl0KCk7XHJcbiAgICAgICAgYXZhdGFyRm9ybVZhbGlkYXRvci5oaWRlSW5wdXRFcnJvcigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICAvL21ldG9kbyBhbnVsYWRvXHJcbiAgfVxyXG4gIF9oYW5kbGVFbnRlcktleVByZXNzKCkge1xyXG4gICAgaWYgKHRoaXMuX3VybElucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuc3VibWl0Q2hhbmdlZFBob3RvKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgfVxyXG4gIH1cclxuICBlbmFibGVTdWJtaXQoKSB7XHJcbiAgICBkb2N1bWVudFxyXG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXRBdmF0YXJcIilcclxuICAgICAgLmNsYXNzTGlzdC5hZGQoXCJwcm9maWxlUG9wdXAtYmxvY2tfX2J1dHRvblwiKTtcclxuICAgIGRvY3VtZW50XHJcbiAgICAgIC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdEF2YXRhclwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnJlbW92ZShcInByb2ZpbGVQb3B1cC1ibG9ja19fYnV0dG9uRGlzYWJsZWRcIik7XHJcbiAgfVxyXG4gIGRpc2FibGVTdWJtaXQoKSB7XHJcbiAgICBkb2N1bWVudFxyXG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXRBdmF0YXJcIilcclxuICAgICAgLmNsYXNzTGlzdC5hZGQoXCJwcm9maWxlUG9wdXAtYmxvY2tfX2J1dHRvbkRpc2FibGVkXCIpO1xyXG4gICAgZG9jdW1lbnRcclxuICAgICAgLmdldEVsZW1lbnRCeUlkKFwic3VibWl0QXZhdGFyXCIpXHJcbiAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwicHJvZmlsZVBvcHVwLWJsb2NrX19idXR0b25cIik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIuZm9ybXVsYXJpby1lZGl0XCIsXHJcbiAgKGlucHV0VmFsdWVzKSA9PiB7XHJcbiAgICAvL1xyXG4gIH1cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VySW5mb0luc3RhbmNlID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnVzZXJfX3RvcC1uYW1lXCIsXHJcbiAgYWJvdXRTZWxlY3RvcjogXCIudXNlcl9fYm90dG9tXCIsXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1FZGl0IGV4dGVuZHMgRm9ybSB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQpIHtcclxuICAgIHN1cGVyKGZvcm1FbGVtZW50KTtcclxuICAgIHRoaXMuX25vbWJyZUlucHV0ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNub21icmVcIik7XHJcbiAgICB0aGlzLl9hYm91dElucHV0ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNhYm91dFwiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3VhcmRhci1idXR0b25FZGl0XCIpO1xyXG5cclxuICAgIHRoaXMuc2V0SW5pdGlhbFZhbHVlcygpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNldEluaXRpYWxWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSB1c2VySW5mb0luc3RhbmNlLmdldFVzZXJJbmZvKCk7XHJcbiAgICB0aGlzLl9ub21icmVJbnB1dC52YWx1ZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9hYm91dElucHV0LnZhbHVlID0gYWJvdXQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX25vbWJyZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUlucHV0VmFsaWRhdGlvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fYWJvdXRJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbnB1dFZhbGlkYXRpb24oKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUlucHV0VmFsaWRhdGlvbigpIHtcclxuICAgIGlmICh0aGlzLl9ub21icmVJbnB1dC52YWxpZGl0eS52YWxpZCAmJiB0aGlzLl9hYm91dElucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVudGVyS2V5UHJlc3MoKSB7XHJcbiAgICBpZiAodGhpcy5fbm9tYnJlSW5wdXQudmFsaWRpdHkudmFsaWQgJiYgdGhpcy5fYWJvdXRJbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZGlzYWJsZVN1Ym1pdCgpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZ3VhcmRhci1lZGl0XCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJndWFyZGFyLWRpc2FibGVkRWRpdFwiKTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVTdWJtaXQoKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkd1YXJkYXJcIjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJndWFyZGFyLWVkaXRcIik7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImd1YXJkYXItZGlzYWJsZWRFZGl0XCIpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdEZvcm0oKSB7XHJcbiAgICBjb25zdCBuZXdOYW1lID0gdGhpcy5fbm9tYnJlSW5wdXQudmFsdWU7XHJcbiAgICBjb25zdCBuZXdBYm91dCA9IHRoaXMuX2Fib3V0SW5wdXQudmFsdWU7XHJcblxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJHdWFyZGFuZG8uLi5cIjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgZmV0Y2goXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wOC91c2Vycy9tZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJjZWJkNDAwZS1jYjEzLTQ3OGYtYTU3Ni0xOTY5Njk3Yzk1NzBcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5ld05hbWUsXHJcbiAgICAgICAgYWJvdXQ6IG5ld0Fib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAudGhlbigodXBkYXRlZFVzZXJEYXRhKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm9JbnN0YW5jZS5zZXRVc2VySW5mbyh7XHJcbiAgICAgICAgICBuYW1lOiB1cGRhdGVkVXNlckRhdGEubmFtZSxcclxuICAgICAgICAgIGFib3V0OiB1cGRhdGVkVXNlckRhdGEuYWJvdXQsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGFjdHVhbGl6YXIgZWwgcGVyZmlsOlwiLCBlcnJvcik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICB0aGlzLl9lbmFibGVTdWJtaXQoKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5mb3JtdWxhcmlvLWFkZFwiLCAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICAvLy9ubyBlcyBuZWNlc2FyaW8gbW9zdHJhciBsb3MgdmFsb3JlcyBkZSBhZGRQb3B1cFxyXG59KTtcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtQWRkIGV4dGVuZHMgRm9ybSB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQpIHtcclxuICAgIHN1cGVyKGZvcm1FbGVtZW50KTtcclxuICAgIHRoaXMuX3RpdGxlSW5wdXQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpdHVsb1wiKTtcclxuICAgIHRoaXMuX2xpbmtJbnB1dCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGlua1wiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3VhcmRhci1idXR0b25BZGRcIik7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICBhZGRUaXR1bG8uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgaWYgKGFkZFRpdHVsby52YWxpZGl0eS52YWxpZCAmJiBhZGRMaW5rLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlU3VibWl0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGFkZExpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgaWYgKGFkZFRpdHVsby52YWxpZGl0eS52YWxpZCAmJiBhZGRMaW5rLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlU3VibWl0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFbnRlcktleVByZXNzKCkge1xyXG4gICAgaWYgKGFkZFRpdHVsby52YWxpZGl0eS52YWxpZCAmJiBhZGRMaW5rLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9kaXNhYmxlU3VibWl0KCkge1xyXG4gICAgZG9jdW1lbnRcclxuICAgICAgLmdldEVsZW1lbnRCeUlkKFwiZ3VhcmRhci1idXR0b25BZGRcIilcclxuICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJndWFyZGFyLWFkZFwiKTtcclxuICAgIGRvY3VtZW50XHJcbiAgICAgIC5nZXRFbGVtZW50QnlJZChcImd1YXJkYXItYnV0dG9uQWRkXCIpXHJcbiAgICAgIC5jbGFzc0xpc3QuYWRkKFwiZ3VhcmRhci1kaXNhYmxlZEFkZFwiKTtcclxuICB9XHJcbiAgX2VuYWJsZVN1Ym1pdCgpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3VhcmRhci1idXR0b25BZGRcIikuY2xhc3NMaXN0LmFkZChcImd1YXJkYXItYWRkXCIpO1xyXG4gICAgZG9jdW1lbnRcclxuICAgICAgLmdldEVsZW1lbnRCeUlkKFwiZ3VhcmRhci1idXR0b25BZGRcIilcclxuICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJndWFyZGFyLWRpc2FibGVkQWRkXCIpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZGFyLWJ1dHRvbkFkZFwiKS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZGFyLWJ1dHRvbkFkZFwiKS50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiO1xyXG4gIH1cclxuICBfZW1wdHlJbnB1dHMoKSB7XHJcbiAgICB0aGlzLl90aXRsZUlucHV0LnZhbHVlID0gXCJcIjtcclxuICAgIHRoaXMuX2xpbmtJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlU3VibWl0Rm9ybSgpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3VhcmRhci1idXR0b25BZGRcIikuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZGFyLWJ1dHRvbkFkZFwiKS50ZXh0Q29udGVudCA9IFwiR3VhcmRhbmRvLi4uXCI7XHJcbiAgICBhZGROZXdDYXJkKHRoaXMuX3RpdGxlSW5wdXQudmFsdWUsIHRoaXMuX2xpbmtJbnB1dC52YWx1ZSk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdCgpO1xyXG5cclxuICAgICAgYWRkUG9wdXAuY2xvc2UoKTtcclxuICAgIH0sIDQwMCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgZWRpdEJ1dHRvbixcclxuICBhZGRCdXR0b24sXHJcbiAgZWRpdEZvcm1FbGVtZW50LFxyXG4gIGFkZEZvcm1FbGVtZW50LFxyXG4gIEZvcm1FZGl0LFxyXG4gIEZvcm1BZGQsXHJcbiAgZWRpdFBvcHVwLFxyXG4gIGFkZFBvcHVwLFxyXG4gIGNoYW5nZVBob3RvUG9wdXAsXHJcbiAgRm9ybUNoYW5nZVBob3RvLFxyXG59IGZyb20gXCIuL3V0aWxzLmpzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIG5vbWJyZUZvcm1WYWxpZGF0b3IsXHJcbiAgYWJvdXRGb3JtVmFsaWRhdG9yLFxyXG4gIHRpdHVsb0Zvcm1WYWxpZGF0b3IsXHJcbiAgbGlua0Zvcm1WYWxpZGF0b3IsXHJcbiAgYXZhdGFyRm9ybVZhbGlkYXRvcixcclxufSBmcm9tIFwiLi9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBDYXJkLCBpdGVtcyB9IGZyb20gXCIuL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgdXNlckRhdGEsIGlzT3duZXIgfSBmcm9tIFwiLi9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi9hcGkuanNcIjtcclxuXHJcbmNvbnN0IGNoYW5nZVBob3RvRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVBvcHVwXCIpO1xyXG5jb25zdCBjaGFuZ2VQaG90byA9IG5ldyBGb3JtQ2hhbmdlUGhvdG8oY2hhbmdlUGhvdG9FbGVtZW50KTtcclxuY29uc3QgdXNlclByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXItcGhvdG9CYWNrXCIpO1xyXG5cclxudXNlclByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjaGFuZ2VQaG90b1BvcHVwLm9wZW4oKTtcclxuICBjaGFuZ2VQaG90by5zZXRJbml0aWFsVmFsdWUoKTtcclxuICBhdmF0YXJGb3JtVmFsaWRhdG9yLmhpZGVJbnB1dEVycm9yKCk7XHJcbiAgY2hhbmdlUGhvdG8uZGlzYWJsZVN1Ym1pdCgpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbS50ZXh0LCBpdGVtLmltYWdlKTtcclxuICAgICAgY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkLl9lbGVtZW50KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5pbWFnZXNcIlxyXG4pO1xyXG5cclxuY2FyZFNlY3Rpb24ucmVuZGVyKCk7XHJcblxyXG4vL2Zvcm11bGFyaW8gRWRpdFxyXG5jb25zdCBlZGl0Rm9ybSA9IG5ldyBGb3JtRWRpdChlZGl0Rm9ybUVsZW1lbnQpO1xyXG5cclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGVkaXRQb3B1cC5vcGVuKCk7XHJcbiAgZWRpdEZvcm0uc2V0SW5pdGlhbFZhbHVlcygpO1xyXG4gIGVkaXRGb3JtLl9lbmFibGVTdWJtaXQoKTtcclxuICBub21icmVGb3JtVmFsaWRhdG9yLmNoZWNrSW5wdXRWYWxpZGl0eSgpO1xyXG4gIGFib3V0Rm9ybVZhbGlkYXRvci5jaGVja0lucHV0VmFsaWRpdHkoKTtcclxuICBub21icmVGb3JtVmFsaWRhdG9yLmhpZGVJbnB1dEVycm9yKCk7XHJcbiAgYWJvdXRGb3JtVmFsaWRhdG9yLmhpZGVJbnB1dEVycm9yKCk7XHJcbn0pO1xyXG5cclxuLy9mb3JtdWxhcmlvIEFkZFxyXG5jb25zdCBhZGRGb3JtID0gbmV3IEZvcm1BZGQoYWRkRm9ybUVsZW1lbnQpO1xyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhZGRQb3B1cC5vcGVuKCk7XHJcbiAgYWRkRm9ybS5fZW1wdHlJbnB1dHMoKTtcclxuICBhZGRGb3JtLl9kaXNhYmxlU3VibWl0KCk7XHJcbiAgdGl0dWxvRm9ybVZhbGlkYXRvci5oaWRlSW5wdXRFcnJvcigpO1xyXG4gIGxpbmtGb3JtVmFsaWRhdG9yLmhpZGVJbnB1dEVycm9yKCk7XHJcbn0pO1xyXG5cclxuY2FyZFNlY3Rpb24uY2xlYXIoKTtcclxuXHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKHVzZXJJbmZvKSA9PiB7XHJcbiAgICB1c2VyRGF0YS5uYW1lID0gdXNlckluZm8ubmFtZTtcclxuICAgIHVzZXJEYXRhLmFib3V0ID0gdXNlckluZm8uYWJvdXQ7XHJcbiAgICB1c2VyRGF0YS5hdmF0YXIgPSB1c2VySW5mby5hdmF0YXI7XHJcbiAgICB1c2VyRGF0YS5faWQgPSB1c2VySW5mby5faWQ7XHJcblxyXG4gICAgcmV0dXJuIGFwaS5nZXRJbml0aWFsQ2FyZHMoKTtcclxuICB9KVxyXG4gIC50aGVuKChjYXJkc0RhdGEpID0+IHtcclxuICAgIGNhcmRzRGF0YS5mb3JFYWNoKChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkSW5mbyA9IHtcclxuICAgICAgICBuYW1lOiBjYXJkRGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGNhcmREYXRhLmxpbmssXHJcbiAgICAgICAgb3duZXI6IGNhcmREYXRhLm93bmVyLFxyXG4gICAgICAgIGlkOiBjYXJkRGF0YS5faWQsXHJcbiAgICAgICAgbGlrZXM6IGNhcmREYXRhLmxpa2VzLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNhcmREYXRhLm5hbWUsIGNhcmREYXRhLmxpbmssIGNhcmRJbmZvKTtcclxuICAgICAgY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkLl9lbGVtZW50KTtcclxuXHJcbiAgICAgIGNvbnN0IGRlbGV0ZUljb24gPSBjYXJkLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fZGVsZXRlXCIpO1xyXG4gICAgICBjb25zdCBkZWxldGVJY29uSG92ZXIgPSBjYXJkLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIucG9zdF9fZGVsZXRlLWhvdmVyXCJcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGlzQ3VycmVudFVzZXJPd25lciA9IGlzT3duZXIodXNlckRhdGEsIGNhcmRJbmZvLm93bmVyKTtcclxuXHJcbiAgICAgIGRlbGV0ZUljb24uc3R5bGUuZGlzcGxheSA9IGlzQ3VycmVudFVzZXJPd25lciA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xyXG4gICAgICBkZWxldGVJY29uSG92ZXIuc3R5bGUuZGlzcGxheSA9IGlzQ3VycmVudFVzZXJPd25lciA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xyXG5cclxuICAgICAgY29uc3QgbGlrZXNDb3VudEVsZW1lbnQgPVxyXG4gICAgICAgIGNhcmQuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0X19saWtlLWNvdW50XCIpO1xyXG4gICAgICBsaWtlc0NvdW50RWxlbWVudC50ZXh0Q29udGVudCA9IGNhcmRJbmZvLmxpa2VzLmxlbmd0aC50b1N0cmluZygpO1xyXG5cclxuICAgICAgY29uc3QgbGlrZUJ1dHRvbiA9IGNhcmQuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0X19saWtlXCIpO1xyXG4gICAgICBpZiAoY2FyZEluZm8ubGlrZXMuc29tZSgodXNlcikgPT4gdXNlci5faWQgPT09IHVzZXJEYXRhLl9pZCkpIHtcclxuICAgICAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJwb3N0X19saWtlZFwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgb2J0ZW5lciBsYXMgdGFyamV0YXM6XCIsIGVycm9yKTtcclxuICB9KTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInZhbHVlIiwiX3RoaXMiLCJmb3JFYWNoIiwiaXRlbSIsImVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2NvbnRlbnQiLCJfaGFuZGxlQ2xvc2VCdXR0b25DbGljayIsImJpbmQiLCJfaGFuZGxlS2V5RG93biIsIl9oYW5kbGVNb3VzZURvd24iLCJfY3JlYXRlQ2xhc3MiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRFdmVudExpc3RlbmVycyIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldmVudCIsInRhcmdldCIsImNvbnRhaW5zIiwiY2xvc2UiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsIl9jcmVhdGVTdXBlciIsIl9wb3B1cEltYWdlIiwiX3BvcHVwQ2FwdGlvbiIsImltYWdlU3JjIiwiaW1hZ2VDYXB0aW9uIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cDIiLCJfc3VwZXIyIiwic3VibWl0Q2FsbGJhY2siLCJfdGhpczIiLCJfc3VibWl0Q2FsbGJhY2siLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsInNldFN1Ym1pdExpc3RlbmVyIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsImlkIiwiX3RoaXMzIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJhcGkiLCJBcGkiLCJvcHRpb25zIiwiYmFzZVVybCIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiY29uY2F0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJhdmF0YXJVcmwiLCJtZXRob2QiLCJhdXRob3JpemF0aW9uIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJuYW1lIiwibGluayIsImNhcmRJZCIsIkVycm9yIiwiZXJyb3IiLCJfdGhpczQiLCJfdGhpczUiLCJfdGhpczYiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfYWJvdXRFbGVtZW50IiwiX3VzZXJBdmF0YXIiLCJ1c2VySWQiLCJnZXRVc2VySW5mb0FwaSIsImFib3V0IiwiZ2V0VXNlckluZm8iLCJyZXN1bHQiLCJfaWQiLCJ1c2VyRGF0YSIsIl9yZWYyIiwiaXNPd25lciIsImNhcmRPd25lciIsImltYWdlIiwiemlvbkltYWdlIiwidGV4dCIsInBvcHVwV2l0aEltYWdlIiwicG9wdXBEZWxldGVDYXJkIiwiQ2FyZCIsImNhcmROYW1lIiwiY2FyZEluZm8iLCJhbHRUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX2NhcmROYW1lIiwiX2ltYWdlIiwiX2FsdFRleHQiLCJfZGVsZXRlUG9wdXAiLCJfZGVsZXRlQnV0dG9uIiwiX2NhcmRJbmZvIiwiY2FyZEVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjYXJkTmFtZUVsZW1lbnQiLCJjYXJkSW1hZ2VFbGVtZW50Iiwib3BlbiIsImxpa2VCdXR0b24iLCJfZWxlbWVudCIsImxpa2VCdXR0b25Ib3ZlciIsImxpa2VzQ291bnRFbGVtZW50IiwiaXNMaWtlZCIsInBhcnNlSW50IiwicmVtb3ZlTGlrZSIsInVwZGF0ZWRDYXJkRGF0YSIsImxpa2VzIiwidG9TdHJpbmciLCJhZGRMaWtlIiwiZGVsZXRlQnV0dG9uIiwiaGFuZGxlRGVsZXRlRXZlbnQiLCJkaXNhYmxlZCIsImN1cnJlbnRDYXJkSW5mbyIsIm93bmVyIiwiZGVsZXRlQ2FyZCIsImRhdGEiLCJtZXNzYWdlIiwiZmluYWxseSIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlTGlrZSIsIl9oYW5kbGVEZWxldGUiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwiaW5wdXRDb250YWluZXJTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfaW5wdXRDb250YWluZXIiLCJfaW5wdXQiLCJlbmFibGVWYWxpZGF0aW9uIiwiZXJyb3JFbGVtZW50Iiwic2V0Q3VzdG9tVmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGlkZUlucHV0RXJyb3IiLCJzaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwibm9tYnJlRm9ybVZhbGlkYXRvciIsImFib3V0Rm9ybVZhbGlkYXRvciIsInRpdHVsb0Zvcm1WYWxpZGF0b3IiLCJsaW5rRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJlZGl0QnV0dG9uIiwiYWRkQnV0dG9uIiwiZWRpdEZvcm1FbGVtZW50IiwiYWRkRm9ybUVsZW1lbnQiLCJhZGRUaXR1bG8iLCJhZGRMaW5rIiwiRm9ybSIsImZvcm1FbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiX2hhbmRsZVN1Ym1pdEZvcm0iLCJfaGFuZGxlRW50ZXJLZXlQcmVzcyIsImNoYW5nZVBob3RvUG9wdXAiLCJGb3JtQ2hhbmdlUGhvdG8iLCJfRm9ybSIsIl91cmxJbnB1dCIsIl9zdWJtaXRCdXR0b24iLCJfdXNlclBob3RvIiwiX3NldFByb2ZpbGVFdmVudExpc3RlbmVycyIsIm5ld0F2YXRhclVybCIsInVwZGF0ZUF2YXRhciIsInVwZGF0ZVBob3RvIiwibmV3SW1hZ2VVcmwiLCJzdWJtaXRDaGFuZ2VkUGhvdG8iLCJlbmFibGVTdWJtaXQiLCJkaXNhYmxlU3VibWl0IiwiZWRpdFBvcHVwIiwidXNlckluZm9JbnN0YW5jZSIsIkZvcm1FZGl0IiwiX0Zvcm0yIiwiX25vbWJyZUlucHV0IiwiX2Fib3V0SW5wdXQiLCJzZXRJbml0aWFsVmFsdWVzIiwiX3VzZXJJbmZvSW5zdGFuY2UkZ2V0IiwiX2hhbmRsZUlucHV0VmFsaWRhdGlvbiIsIl9lbmFibGVTdWJtaXQiLCJfZGlzYWJsZVN1Ym1pdCIsIl90aGlzNyIsIm5ld05hbWUiLCJuZXdBYm91dCIsInJlc3BvbnNlIiwidXBkYXRlZFVzZXJEYXRhIiwic2V0VXNlckluZm8iLCJhZGRQb3B1cCIsIkZvcm1BZGQiLCJfRm9ybTMiLCJfc3VwZXIzIiwiX3RoaXM4IiwiX3RpdGxlSW5wdXQiLCJfbGlua0lucHV0IiwiX3RoaXM5IiwiX3RoaXMxMCIsImFkZENhcmQiLCJuZXdDYXJkRGF0YSIsIm5ld0NhcmQiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkU2VjdGlvbiIsImFkZE5ld0l0ZW0iLCJzZXRUaW1lb3V0IiwiY2hhbmdlUGhvdG8iLCJzZXRJbml0aWFsVmFsdWUiLCJjYXJkIiwiYWRkSXRlbSIsInJlbmRlciIsImVkaXRGb3JtIiwiYWRkRm9ybSIsIl9lbXB0eUlucHV0cyIsImNsZWFyIiwidXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkc0RhdGEiLCJjYXJkRGF0YSIsImRlbGV0ZUljb24iLCJkZWxldGVJY29uSG92ZXIiLCJpc0N1cnJlbnRVc2VyT3duZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJzb21lIiwidXNlciJdLCJzb3VyY2VSb290IjoiIn0=